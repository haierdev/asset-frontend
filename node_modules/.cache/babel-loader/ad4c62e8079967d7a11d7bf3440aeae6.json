{"ast":null,"code":"const Raphael = require('raphael');\n/* @license\nmorris.js v0.5.1\nCopyright 2014 Olly Smith All rights reserved.\nLicensed under the BSD-2-Clause License.\n*/\n\n\nfunction makeMorris(jQuery) {\n  const Morris = {};\n\n  var $,\n      minutesSpecHelper,\n      secondsSpecHelper,\n      __slice = [].slice,\n      __bind = function (fn, me) {\n    return function () {\n      return fn.apply(me, arguments);\n    };\n  },\n      __hasProp = {}.hasOwnProperty,\n      __extends = function (child, parent) {\n    for (var key in parent) {\n      if (__hasProp.call(parent, key)) child[key] = parent[key];\n    }\n\n    function ctor() {\n      this.constructor = child;\n    }\n\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n    child.__super__ = parent.prototype;\n    return child;\n  },\n      __indexOf = [].indexOf || function (item) {\n    for (var i = 0, l = this.length; i < l; i++) {\n      if (i in this && this[i] === item) return i;\n    }\n\n    return -1;\n  };\n\n  $ = jQuery;\n\n  Morris.EventEmitter = function () {\n    function EventEmitter() {}\n\n    EventEmitter.prototype.on = function (name, handler) {\n      if (this.handlers == null) {\n        this.handlers = {};\n      }\n\n      if (this.handlers[name] == null) {\n        this.handlers[name] = [];\n      }\n\n      this.handlers[name].push(handler);\n      return this;\n    };\n\n    EventEmitter.prototype.fire = function () {\n      var args, handler, name, _i, _len, _ref, _results;\n\n      name = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n\n      if (this.handlers != null && this.handlers[name] != null) {\n        _ref = this.handlers[name];\n        _results = [];\n\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          handler = _ref[_i];\n\n          _results.push(handler.apply(null, args));\n        }\n\n        return _results;\n      }\n    };\n\n    return EventEmitter;\n  }();\n\n  Morris.commas = function (num) {\n    var absnum, intnum, ret, strabsnum;\n\n    if (num != null) {\n      ret = num < 0 ? \"-\" : \"\";\n      absnum = Math.abs(num);\n      intnum = Math.floor(absnum).toFixed(0);\n      ret += intnum.replace(/(?=(?:\\d{3})+$)(?!^)/g, ',');\n      strabsnum = absnum.toString();\n\n      if (strabsnum.length > intnum.length) {\n        ret += strabsnum.slice(intnum.length);\n      }\n\n      return ret;\n    } else {\n      return '-';\n    }\n  };\n\n  Morris.pad2 = function (number) {\n    return (number < 10 ? '0' : '') + number;\n  };\n\n  Morris.Grid = function (_super) {\n    __extends(Grid, _super);\n\n    function Grid(options) {\n      this.hasToShow = __bind(this.hasToShow, this);\n      this.resizeHandler = __bind(this.resizeHandler, this);\n\n      var _this = this;\n\n      if (typeof options.element === 'string') {\n        this.el = $(document.getElementById(options.element));\n      } else {\n        this.el = $(options.element);\n      }\n\n      if (this.el == null || this.el.length === 0) {\n        throw new Error(\"Graph container element not found\");\n      }\n\n      if (this.el.css('position') === 'static') {\n        this.el.css('position', 'relative');\n      }\n\n      this.options = $.extend({}, this.gridDefaults, this.defaults || {}, options);\n\n      if (typeof this.options.units === 'string') {\n        this.options.postUnits = options.units;\n      }\n\n      this.raphael = new Raphael(this.el[0]);\n      this.elementWidth = null;\n      this.elementHeight = null;\n      this.dirty = false;\n      this.selectFrom = null;\n\n      if (this.init) {\n        this.init();\n      }\n\n      this.setData(this.options.data);\n      this.el.bind('mousemove', function (evt) {\n        var left, offset, right, width, x;\n        offset = _this.el.offset();\n        x = evt.pageX - offset.left;\n\n        if (_this.selectFrom) {\n          left = _this.data[_this.hitTest(Math.min(x, _this.selectFrom))]._x;\n          right = _this.data[_this.hitTest(Math.max(x, _this.selectFrom))]._x;\n          width = right - left;\n          return _this.selectionRect.attr({\n            x: left,\n            width: width\n          });\n        } else {\n          return _this.fire('hovermove', x, evt.pageY - offset.top);\n        }\n      });\n      this.el.bind('mouseleave', function (evt) {\n        if (_this.selectFrom) {\n          _this.selectionRect.hide();\n\n          _this.selectFrom = null;\n        }\n\n        return _this.fire('hoverout');\n      });\n      this.el.bind('touchstart touchmove touchend', function (evt) {\n        var offset, touch;\n        touch = evt.originalEvent.touches[0] || evt.originalEvent.changedTouches[0];\n        offset = _this.el.offset();\n        return _this.fire('hovermove', touch.pageX - offset.left, touch.pageY - offset.top);\n      });\n      this.el.bind('click', function (evt) {\n        var offset;\n        offset = _this.el.offset();\n        return _this.fire('gridclick', evt.pageX - offset.left, evt.pageY - offset.top);\n      });\n\n      if (this.options.rangeSelect) {\n        this.selectionRect = this.raphael.rect(0, 0, 0, this.el.innerHeight()).attr({\n          fill: this.options.rangeSelectColor,\n          stroke: false\n        }).toBack().hide();\n        this.el.bind('mousedown', function (evt) {\n          var offset;\n          offset = _this.el.offset();\n          return _this.startRange(evt.pageX - offset.left);\n        });\n        this.el.bind('mouseup', function (evt) {\n          var offset;\n          offset = _this.el.offset();\n\n          _this.endRange(evt.pageX - offset.left);\n\n          return _this.fire('hovermove', evt.pageX - offset.left, evt.pageY - offset.top);\n        });\n      }\n\n      if (this.options.resize) {\n        $(window).bind('resize', function (evt) {\n          if (_this.timeoutId != null) {\n            clearTimeout(_this.timeoutId);\n          }\n\n          return _this.timeoutId = setTimeout(_this.resizeHandler, 100);\n        });\n      }\n\n      this.el.css('-webkit-tap-highlight-color', 'rgba(0,0,0,0)');\n\n      if (this.postInit) {\n        this.postInit();\n      }\n    }\n\n    Grid.prototype.gridDefaults = {\n      dateFormat: null,\n      axes: true,\n      grid: true,\n      gridLineColor: '#aaa',\n      gridStrokeWidth: 0.5,\n      gridTextColor: '#888',\n      gridTextSize: 12,\n      gridTextFamily: 'sans-serif',\n      gridTextWeight: 'normal',\n      hideHover: false,\n      yLabelFormat: null,\n      xLabelAngle: 0,\n      numLines: 5,\n      padding: 25,\n      parseTime: true,\n      postUnits: '',\n      preUnits: '',\n      ymax: 'auto',\n      ymin: 'auto 0',\n      goals: [],\n      goalStrokeWidth: 1.0,\n      goalLineColors: ['#666633', '#999966', '#cc6666', '#663333'],\n      events: [],\n      eventStrokeWidth: 1.0,\n      eventLineColors: ['#005a04', '#ccffbb', '#3a5f0b', '#005502'],\n      rangeSelect: null,\n      rangeSelectColor: '#eef',\n      resize: false\n    };\n\n    Grid.prototype.setData = function (data, redraw) {\n      var e, flatEvents, from, idx, index, maxGoal, minGoal, ret, row, step, to, total, y, ykey, ymax, ymin, yval, _i, _len, _ref, _ref1;\n\n      if (redraw == null) {\n        redraw = true;\n      }\n\n      this.options.data = data;\n\n      if (data == null || data.length === 0) {\n        this.data = [];\n        this.raphael.clear();\n\n        if (this.hover != null) {\n          this.hover.hide();\n        }\n\n        return;\n      }\n\n      ymax = this.cumulative ? 0 : null;\n      ymin = this.cumulative ? 0 : null;\n\n      if (this.options.goals.length > 0) {\n        minGoal = Math.min.apply(Math, this.options.goals);\n        maxGoal = Math.max.apply(Math, this.options.goals);\n        ymin = ymin != null ? Math.min(ymin, minGoal) : minGoal;\n        ymax = ymax != null ? Math.max(ymax, maxGoal) : maxGoal;\n      }\n\n      this.data = function () {\n        var _i, _len, _results;\n\n        _results = [];\n\n        for (index = _i = 0, _len = data.length; _i < _len; index = ++_i) {\n          row = data[index];\n          ret = {\n            src: row\n          };\n          ret.label = row[this.options.xkey];\n\n          if (this.options.parseTime) {\n            ret.x = Morris.parseDate(ret.label);\n\n            if (this.options.dateFormat) {\n              ret.label = this.options.dateFormat(ret.x);\n            } else if (typeof ret.label === 'number') {\n              ret.label = new Date(ret.label).toString();\n            }\n          } else {\n            ret.x = index;\n\n            if (this.options.xLabelFormat) {\n              ret.label = this.options.xLabelFormat(ret);\n            }\n          }\n\n          total = 0;\n\n          ret.y = function () {\n            var _j, _len1, _ref, _results1;\n\n            _ref = this.options.ykeys;\n            _results1 = [];\n\n            for (idx = _j = 0, _len1 = _ref.length; _j < _len1; idx = ++_j) {\n              ykey = _ref[idx];\n              yval = row[ykey];\n\n              if (typeof yval === 'string') {\n                yval = parseFloat(yval);\n              }\n\n              if (yval != null && typeof yval !== 'number') {\n                yval = null;\n              }\n\n              if (yval != null && this.hasToShow(idx)) {\n                if (this.cumulative) {\n                  total += yval;\n                } else {\n                  if (ymax != null) {\n                    ymax = Math.max(yval, ymax);\n                    ymin = Math.min(yval, ymin);\n                  } else {\n                    ymax = ymin = yval;\n                  }\n                }\n              }\n\n              if (this.cumulative && total != null) {\n                ymax = Math.max(total, ymax);\n                ymin = Math.min(total, ymin);\n              }\n\n              _results1.push(yval);\n            }\n\n            return _results1;\n          }.call(this);\n\n          _results.push(ret);\n        }\n\n        return _results;\n      }.call(this);\n\n      if (this.options.parseTime) {\n        this.data = this.data.sort(function (a, b) {\n          return (a.x > b.x) - (b.x > a.x);\n        });\n      }\n\n      this.xmin = this.data[0].x;\n      this.xmax = this.data[this.data.length - 1].x;\n      this.events = [];\n\n      if (this.options.events.length > 0) {\n        if (this.options.parseTime) {\n          _ref = this.options.events;\n\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            e = _ref[_i];\n\n            if (e instanceof Array) {\n              from = e[0], to = e[1];\n              this.events.push([Morris.parseDate(from), Morris.parseDate(to)]);\n            } else {\n              this.events.push(Morris.parseDate(e));\n            }\n          }\n        } else {\n          this.events = this.options.events;\n        }\n\n        flatEvents = $.map(this.events, function (e) {\n          return e;\n        });\n        this.xmax = Math.max(this.xmax, Math.max.apply(Math, flatEvents));\n        this.xmin = Math.min(this.xmin, Math.min.apply(Math, flatEvents));\n      }\n\n      if (this.xmin === this.xmax) {\n        this.xmin -= 1;\n        this.xmax += 1;\n      }\n\n      this.ymin = this.yboundary('min', ymin);\n      this.ymax = this.yboundary('max', ymax);\n\n      if (this.ymin === this.ymax) {\n        if (ymin) {\n          this.ymin -= 1;\n        }\n\n        this.ymax += 1;\n      }\n\n      if ((_ref1 = this.options.axes) === true || _ref1 === 'both' || _ref1 === 'y' || this.options.grid === true) {\n        if (this.options.ymax === this.gridDefaults.ymax && this.options.ymin === this.gridDefaults.ymin) {\n          this.grid = this.autoGridLines(this.ymin, this.ymax, this.options.numLines);\n          this.ymin = Math.min(this.ymin, this.grid[0]);\n          this.ymax = Math.max(this.ymax, this.grid[this.grid.length - 1]);\n        } else {\n          step = (this.ymax - this.ymin) / (this.options.numLines - 1);\n\n          this.grid = function () {\n            var _j, _ref2, _ref3, _results;\n\n            _results = [];\n\n            for (y = _j = _ref2 = this.ymin, _ref3 = this.ymax; step > 0 ? _j <= _ref3 : _j >= _ref3; y = _j += step) {\n              _results.push(y);\n            }\n\n            return _results;\n          }.call(this);\n        }\n      }\n\n      this.dirty = true;\n\n      if (redraw) {\n        return this.redraw();\n      }\n    };\n\n    Grid.prototype.yboundary = function (boundaryType, currentValue) {\n      var boundaryOption, suggestedValue;\n      boundaryOption = this.options[\"y\" + boundaryType];\n\n      if (typeof boundaryOption === 'string') {\n        if (boundaryOption.slice(0, 4) === 'auto') {\n          if (boundaryOption.length > 5) {\n            suggestedValue = parseInt(boundaryOption.slice(5), 10);\n\n            if (currentValue == null) {\n              return suggestedValue;\n            }\n\n            return Math[boundaryType](currentValue, suggestedValue);\n          } else {\n            if (currentValue != null) {\n              return currentValue;\n            } else {\n              return 0;\n            }\n          }\n        } else {\n          return parseInt(boundaryOption, 10);\n        }\n      } else {\n        return boundaryOption;\n      }\n    };\n\n    Grid.prototype.autoGridLines = function (ymin, ymax, nlines) {\n      var gmax, gmin, grid, smag, span, step, unit, y, ymag;\n      span = ymax - ymin;\n      ymag = Math.floor(Math.log(span) / Math.log(10));\n      unit = Math.pow(10, ymag);\n      gmin = Math.floor(ymin / unit) * unit;\n      gmax = Math.ceil(ymax / unit) * unit;\n      step = (gmax - gmin) / (nlines - 1);\n\n      if (unit === 1 && step > 1 && Math.ceil(step) !== step) {\n        step = Math.ceil(step);\n        gmax = gmin + step * (nlines - 1);\n      }\n\n      if (gmin < 0 && gmax > 0) {\n        gmin = Math.floor(ymin / step) * step;\n        gmax = Math.ceil(ymax / step) * step;\n      }\n\n      if (step < 1) {\n        smag = Math.floor(Math.log(step) / Math.log(10));\n\n        grid = function () {\n          var _i, _results;\n\n          _results = [];\n\n          for (y = _i = gmin; step > 0 ? _i <= gmax : _i >= gmax; y = _i += step) {\n            _results.push(parseFloat(y.toFixed(1 - smag)));\n          }\n\n          return _results;\n        }();\n      } else {\n        grid = function () {\n          var _i, _results;\n\n          _results = [];\n\n          for (y = _i = gmin; step > 0 ? _i <= gmax : _i >= gmax; y = _i += step) {\n            _results.push(y);\n          }\n\n          return _results;\n        }();\n      }\n\n      return grid;\n    };\n\n    Grid.prototype._calc = function () {\n      var angle, bottomOffsets, gridLine, h, i, w, yLabelWidths, _ref, _ref1;\n\n      w = this.el.width();\n      h = this.el.height();\n\n      if (this.elementWidth !== w || this.elementHeight !== h || this.dirty) {\n        this.elementWidth = w;\n        this.elementHeight = h;\n        this.dirty = false;\n        this.left = this.options.padding;\n        this.right = this.elementWidth - this.options.padding;\n        this.top = this.options.padding;\n        this.bottom = this.elementHeight - this.options.padding;\n\n        if ((_ref = this.options.axes) === true || _ref === 'both' || _ref === 'y') {\n          yLabelWidths = function () {\n            var _i, _len, _ref1, _results;\n\n            _ref1 = this.grid;\n            _results = [];\n\n            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n              gridLine = _ref1[_i];\n\n              _results.push(this.measureText(this.yAxisFormat(gridLine)).width);\n            }\n\n            return _results;\n          }.call(this);\n\n          if (!this.options.horizontal) {\n            this.left += Math.max.apply(Math, yLabelWidths);\n          } else {\n            this.bottom -= Math.max.apply(Math, yLabelWidths);\n          }\n        }\n\n        if ((_ref1 = this.options.axes) === true || _ref1 === 'both' || _ref1 === 'x') {\n          if (!this.options.horizontal) {\n            angle = -this.options.xLabelAngle;\n          } else {\n            angle = -90;\n          }\n\n          bottomOffsets = function () {\n            var _i, _ref2, _results;\n\n            _results = [];\n\n            for (i = _i = 0, _ref2 = this.data.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {\n              _results.push(this.measureText(this.data[i].label, angle).height);\n            }\n\n            return _results;\n          }.call(this);\n\n          if (!this.options.horizontal) {\n            this.bottom -= Math.max.apply(Math, bottomOffsets);\n          } else {\n            this.left += Math.max.apply(Math, bottomOffsets);\n          }\n        }\n\n        this.width = Math.max(1, this.right - this.left);\n        this.height = Math.max(1, this.bottom - this.top);\n\n        if (!this.options.horizontal) {\n          this.dx = this.width / (this.xmax - this.xmin);\n          this.dy = this.height / (this.ymax - this.ymin);\n          this.yStart = this.bottom;\n          this.yEnd = this.top;\n          this.xStart = this.left;\n          this.xEnd = this.right;\n          this.xSize = this.width;\n          this.ySize = this.height;\n        } else {\n          this.dx = this.height / (this.xmax - this.xmin);\n          this.dy = this.width / (this.ymax - this.ymin);\n          this.yStart = this.left;\n          this.yEnd = this.right;\n          this.xStart = this.top;\n          this.xEnd = this.bottom;\n          this.xSize = this.height;\n          this.ySize = this.width;\n        }\n\n        if (this.calc) {\n          return this.calc();\n        }\n      }\n    };\n\n    Grid.prototype.transY = function (y) {\n      if (!this.options.horizontal) {\n        return this.bottom - (y - this.ymin) * this.dy;\n      } else {\n        return this.left + (y - this.ymin) * this.dy;\n      }\n    };\n\n    Grid.prototype.transX = function (x) {\n      if (this.data.length === 1) {\n        return (this.xStart + this.xEnd) / 2;\n      } else {\n        return this.xStart + (x - this.xmin) * this.dx;\n      }\n    };\n\n    Grid.prototype.redraw = function () {\n      this.raphael.clear();\n\n      this._calc();\n\n      this.drawGrid();\n      this.drawGoals();\n      this.drawEvents();\n\n      if (this.draw) {\n        return this.draw();\n      }\n    };\n\n    Grid.prototype.measureText = function (text, angle) {\n      var ret, tt;\n\n      if (angle == null) {\n        angle = 0;\n      }\n\n      tt = this.raphael.text(100, 100, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).rotate(angle);\n      ret = tt.getBBox();\n      tt.remove();\n      return ret;\n    };\n\n    Grid.prototype.yAxisFormat = function (label) {\n      return this.yLabelFormat(label, 0);\n    };\n\n    Grid.prototype.yLabelFormat = function (label, i) {\n      if (typeof this.options.yLabelFormat === 'function') {\n        return this.options.yLabelFormat(label, i);\n      } else {\n        return \"\" + this.options.preUnits + Morris.commas(label) + this.options.postUnits;\n      }\n    };\n\n    Grid.prototype.getYAxisLabelX = function () {\n      return this.left - this.options.padding / 2;\n    };\n\n    Grid.prototype.drawGrid = function () {\n      var basePos, lineY, pos, _i, _len, _ref, _ref1, _ref2, _results;\n\n      if (this.options.grid === false && (_ref = this.options.axes) !== true && _ref !== 'both' && _ref !== 'y') {\n        return;\n      }\n\n      if (!this.options.horizontal) {\n        basePos = this.getYAxisLabelX();\n      } else {\n        basePos = this.getXAxisLabelY();\n      }\n\n      _ref1 = this.grid;\n      _results = [];\n\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        lineY = _ref1[_i];\n        pos = this.transY(lineY);\n\n        if ((_ref2 = this.options.axes) === true || _ref2 === 'both' || _ref2 === 'y') {\n          if (!this.options.horizontal) {\n            this.drawYAxisLabel(basePos, pos, this.yAxisFormat(lineY));\n          } else {\n            this.drawXAxisLabel(pos, basePos, this.yAxisFormat(lineY));\n          }\n        }\n\n        if (this.options.grid) {\n          pos = Math.floor(pos) + 0.5;\n\n          if (!this.options.horizontal) {\n            _results.push(this.drawGridLine(\"M\" + this.xStart + \",\" + pos + \"H\" + this.xEnd));\n          } else {\n            _results.push(this.drawGridLine(\"M\" + pos + \",\" + this.xStart + \"V\" + this.xEnd));\n          }\n        } else {\n          _results.push(void 0);\n        }\n      }\n\n      return _results;\n    };\n\n    Grid.prototype.drawGoals = function () {\n      var color, goal, i, _i, _len, _ref, _results;\n\n      _ref = this.options.goals;\n      _results = [];\n\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n        goal = _ref[i];\n        color = this.options.goalLineColors[i % this.options.goalLineColors.length];\n\n        _results.push(this.drawGoal(goal, color));\n      }\n\n      return _results;\n    };\n\n    Grid.prototype.drawEvents = function () {\n      var color, event, i, _i, _len, _ref, _results;\n\n      _ref = this.events;\n      _results = [];\n\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n        event = _ref[i];\n        color = this.options.eventLineColors[i % this.options.eventLineColors.length];\n\n        _results.push(this.drawEvent(event, color));\n      }\n\n      return _results;\n    };\n\n    Grid.prototype.drawGoal = function (goal, color) {\n      var path, y;\n      y = Math.floor(this.transY(goal)) + 0.5;\n\n      if (!this.options.horizontal) {\n        path = \"M\" + this.xStart + \",\" + y + \"H\" + this.xEnd;\n      } else {\n        path = \"M\" + y + \",\" + this.xStart + \"V\" + this.xEnd;\n      }\n\n      return this.raphael.path(path).attr('stroke', color).attr('stroke-width', this.options.goalStrokeWidth);\n    };\n\n    Grid.prototype.drawEvent = function (event, color) {\n      var from, path, to, x;\n\n      if (event instanceof Array) {\n        from = event[0], to = event[1];\n        from = Math.floor(this.transX(from)) + 0.5;\n        to = Math.floor(this.transX(to)) + 0.5;\n\n        if (!this.options.horizontal) {\n          return this.raphael.rect(from, this.yEnd, to - from, this.yStart - this.yEnd).attr({\n            fill: color,\n            stroke: false\n          }).toBack();\n        } else {\n          return this.raphael.rect(this.yStart, from, this.yEnd - this.yStart, to - from).attr({\n            fill: color,\n            stroke: false\n          }).toBack();\n        }\n      } else {\n        x = Math.floor(this.transX(event)) + 0.5;\n\n        if (!this.options.horizontal) {\n          path = \"M\" + x + \",\" + this.yStart + \"V\" + this.yEnd;\n        } else {\n          path = \"M\" + this.yStart + \",\" + x + \"H\" + this.yEnd;\n        }\n\n        return this.raphael.path(path).attr('stroke', color).attr('stroke-width', this.options.eventStrokeWidth);\n      }\n    };\n\n    Grid.prototype.drawYAxisLabel = function (xPos, yPos, text) {\n      return this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor).attr('text-anchor', 'end');\n    };\n\n    Grid.prototype.drawGridLine = function (path) {\n      return this.raphael.path(path).attr('stroke', this.options.gridLineColor).attr('stroke-width', this.options.gridStrokeWidth);\n    };\n\n    Grid.prototype.startRange = function (x) {\n      this.hover.hide();\n      this.selectFrom = x;\n      return this.selectionRect.attr({\n        x: x,\n        width: 0\n      }).show();\n    };\n\n    Grid.prototype.endRange = function (x) {\n      var end, start;\n\n      if (this.selectFrom) {\n        start = Math.min(this.selectFrom, x);\n        end = Math.max(this.selectFrom, x);\n        this.options.rangeSelect.call(this.el, {\n          start: this.data[this.hitTest(start)].x,\n          end: this.data[this.hitTest(end)].x\n        });\n        return this.selectFrom = null;\n      }\n    };\n\n    Grid.prototype.resizeHandler = function () {\n      this.timeoutId = null;\n      this.raphael.setSize(this.el.width(), this.el.height());\n      return this.redraw();\n    };\n\n    Grid.prototype.hasToShow = function (i) {\n      return this.options.shown === true || this.options.shown[i] === true;\n    };\n\n    return Grid;\n  }(Morris.EventEmitter);\n\n  Morris.parseDate = function (date) {\n    var isecs, m, msecs, n, o, offsetmins, p, q, r, ret, secs;\n\n    if (typeof date === 'number') {\n      return date;\n    }\n\n    m = date.match(/^(\\d+) Q(\\d)$/);\n    n = date.match(/^(\\d+)-(\\d+)$/);\n    o = date.match(/^(\\d+)-(\\d+)-(\\d+)$/);\n    p = date.match(/^(\\d+) W(\\d+)$/);\n    q = date.match(/^(\\d+)-(\\d+)-(\\d+)[ T](\\d+):(\\d+)(Z|([+-])(\\d\\d):?(\\d\\d))?$/);\n    r = date.match(/^(\\d+)-(\\d+)-(\\d+)[ T](\\d+):(\\d+):(\\d+(\\.\\d+)?)(Z|([+-])(\\d\\d):?(\\d\\d))?$/);\n\n    if (m) {\n      return new Date(parseInt(m[1], 10), parseInt(m[2], 10) * 3 - 1, 1).getTime();\n    } else if (n) {\n      return new Date(parseInt(n[1], 10), parseInt(n[2], 10) - 1, 1).getTime();\n    } else if (o) {\n      return new Date(parseInt(o[1], 10), parseInt(o[2], 10) - 1, parseInt(o[3], 10)).getTime();\n    } else if (p) {\n      ret = new Date(parseInt(p[1], 10), 0, 1);\n\n      if (ret.getDay() !== 4) {\n        ret.setMonth(0, 1 + (4 - ret.getDay() + 7) % 7);\n      }\n\n      return ret.getTime() + parseInt(p[2], 10) * 604800000;\n    } else if (q) {\n      if (!q[6]) {\n        return new Date(parseInt(q[1], 10), parseInt(q[2], 10) - 1, parseInt(q[3], 10), parseInt(q[4], 10), parseInt(q[5], 10)).getTime();\n      } else {\n        offsetmins = 0;\n\n        if (q[6] !== 'Z') {\n          offsetmins = parseInt(q[8], 10) * 60 + parseInt(q[9], 10);\n\n          if (q[7] === '+') {\n            offsetmins = 0 - offsetmins;\n          }\n        }\n\n        return Date.UTC(parseInt(q[1], 10), parseInt(q[2], 10) - 1, parseInt(q[3], 10), parseInt(q[4], 10), parseInt(q[5], 10) + offsetmins);\n      }\n    } else if (r) {\n      secs = parseFloat(r[6]);\n      isecs = Math.floor(secs);\n      msecs = Math.round((secs - isecs) * 1000);\n\n      if (!r[8]) {\n        return new Date(parseInt(r[1], 10), parseInt(r[2], 10) - 1, parseInt(r[3], 10), parseInt(r[4], 10), parseInt(r[5], 10), isecs, msecs).getTime();\n      } else {\n        offsetmins = 0;\n\n        if (r[8] !== 'Z') {\n          offsetmins = parseInt(r[10], 10) * 60 + parseInt(r[11], 10);\n\n          if (r[9] === '+') {\n            offsetmins = 0 - offsetmins;\n          }\n        }\n\n        return Date.UTC(parseInt(r[1], 10), parseInt(r[2], 10) - 1, parseInt(r[3], 10), parseInt(r[4], 10), parseInt(r[5], 10) + offsetmins, isecs, msecs);\n      }\n    } else {\n      return new Date(parseInt(date, 10), 0, 1).getTime();\n    }\n  };\n\n  Morris.Hover = function () {\n    Hover.defaults = {\n      \"class\": 'morris-hover morris-default-style'\n    };\n\n    function Hover(options) {\n      if (options == null) {\n        options = {};\n      }\n\n      this.options = $.extend({}, Morris.Hover.defaults, options);\n      this.el = $(\"<div class='\" + this.options[\"class\"] + \"'></div>\");\n      this.el.hide();\n      this.options.parent.append(this.el);\n    }\n\n    Hover.prototype.update = function (html, x, y, centre_y) {\n      if (!html) {\n        return this.hide();\n      } else {\n        this.html(html);\n        this.show();\n        return this.moveTo(x, y, centre_y);\n      }\n    };\n\n    Hover.prototype.html = function (content) {\n      return this.el.html(content);\n    };\n\n    Hover.prototype.moveTo = function (x, y, centre_y) {\n      var hoverHeight, hoverWidth, left, parentHeight, parentWidth, top;\n      parentWidth = this.options.parent.innerWidth();\n      parentHeight = this.options.parent.innerHeight();\n      hoverWidth = this.el.outerWidth();\n      hoverHeight = this.el.outerHeight();\n      left = Math.min(Math.max(0, x - hoverWidth / 2), parentWidth - hoverWidth);\n\n      if (y != null) {\n        if (centre_y === true) {\n          top = y - hoverHeight / 2;\n\n          if (top < 0) {\n            top = 0;\n          }\n        } else {\n          top = y - hoverHeight - 10;\n\n          if (top < 0) {\n            top = y + 10;\n\n            if (top + hoverHeight > parentHeight) {\n              top = parentHeight / 2 - hoverHeight / 2;\n            }\n          }\n        }\n      } else {\n        top = parentHeight / 2 - hoverHeight / 2;\n      }\n\n      return this.el.css({\n        left: left + \"px\",\n        top: parseInt(top) + \"px\"\n      });\n    };\n\n    Hover.prototype.show = function () {\n      return this.el.show();\n    };\n\n    Hover.prototype.hide = function () {\n      return this.el.hide();\n    };\n\n    return Hover;\n  }();\n\n  Morris.Line = function (_super) {\n    __extends(Line, _super);\n\n    function Line(options) {\n      this.hilight = __bind(this.hilight, this);\n      this.onHoverOut = __bind(this.onHoverOut, this);\n      this.onHoverMove = __bind(this.onHoverMove, this);\n      this.onGridClick = __bind(this.onGridClick, this);\n\n      if (!(this instanceof Morris.Line)) {\n        return new Morris.Line(options);\n      }\n\n      Line.__super__.constructor.call(this, options);\n    }\n\n    Line.prototype.init = function () {\n      if (this.options.hideHover !== 'always') {\n        this.hover = new Morris.Hover({\n          parent: this.el\n        });\n        this.on('hovermove', this.onHoverMove);\n        this.on('hoverout', this.onHoverOut);\n        return this.on('gridclick', this.onGridClick);\n      }\n    };\n\n    Line.prototype.defaults = {\n      lineWidth: 3,\n      pointSize: 4,\n      lineColors: ['#0b62a4', '#7A92A3', '#4da74d', '#afd8f8', '#edc240', '#cb4b4b', '#9440ed'],\n      pointStrokeWidths: [1],\n      pointStrokeColors: ['#ffffff'],\n      pointFillColors: [],\n      smooth: true,\n      shown: true,\n      xLabels: 'auto',\n      xLabelFormat: null,\n      xLabelMargin: 24,\n      hideHover: false,\n      trendLine: false,\n      trendLineWidth: 2,\n      trendLineColors: ['#689bc3', '#a2b3bf', '#64b764']\n    };\n\n    Line.prototype.calc = function () {\n      this.calcPoints();\n      return this.generatePaths();\n    };\n\n    Line.prototype.calcPoints = function () {\n      var row, y, _i, _len, _ref, _results;\n\n      _ref = this.data;\n      _results = [];\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        row = _ref[_i];\n        row._x = this.transX(row.x);\n\n        row._y = function () {\n          var _j, _len1, _ref1, _results1;\n\n          _ref1 = row.y;\n          _results1 = [];\n\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            y = _ref1[_j];\n\n            if (y != null) {\n              _results1.push(this.transY(y));\n            } else {\n              _results1.push(y);\n            }\n          }\n\n          return _results1;\n        }.call(this);\n\n        _results.push(row._ymax = Math.min.apply(Math, [this.bottom].concat(function () {\n          var _j, _len1, _ref1, _results1;\n\n          _ref1 = row._y;\n          _results1 = [];\n\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            y = _ref1[_j];\n\n            if (y != null) {\n              _results1.push(y);\n            }\n          }\n\n          return _results1;\n        }())));\n      }\n\n      return _results;\n    };\n\n    Line.prototype.hitTest = function (x) {\n      var index, r, _i, _len, _ref;\n\n      if (this.data.length === 0) {\n        return null;\n      }\n\n      _ref = this.data.slice(1);\n\n      for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {\n        r = _ref[index];\n\n        if (x < (r._x + this.data[index]._x) / 2) {\n          break;\n        }\n      }\n\n      return index;\n    };\n\n    Line.prototype.onGridClick = function (x, y) {\n      var index;\n      index = this.hitTest(x);\n      return this.fire('click', index, this.data[index].src, x, y);\n    };\n\n    Line.prototype.onHoverMove = function (x, y) {\n      var index;\n      index = this.hitTest(x);\n      return this.displayHoverForRow(index);\n    };\n\n    Line.prototype.onHoverOut = function () {\n      if (this.options.hideHover !== false) {\n        return this.displayHoverForRow(null);\n      }\n    };\n\n    Line.prototype.displayHoverForRow = function (index) {\n      var _ref;\n\n      if (index != null) {\n        (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(index));\n\n        return this.hilight(index);\n      } else {\n        this.hover.hide();\n        return this.hilight();\n      }\n    };\n\n    Line.prototype.hoverContentForRow = function (index) {\n      var content, j, row, y, _i, _len, _ref;\n\n      row = this.data[index];\n      content = $(\"<div class='morris-hover-row-label'>\").text(row.label);\n      content = content.prop('outerHTML');\n      _ref = row.y;\n\n      for (j = _i = 0, _len = _ref.length; _i < _len; j = ++_i) {\n        y = _ref[j];\n\n        if (this.options.labels[j] === false) {\n          continue;\n        }\n\n        content += \"<div class='morris-hover-point' style='color: \" + this.colorFor(row, j, 'label') + \"'>\\n  \" + this.options.labels[j] + \":\\n  \" + this.yLabelFormat(y, j) + \"\\n</div>\";\n      }\n\n      if (typeof this.options.hoverCallback === 'function') {\n        content = this.options.hoverCallback(index, this.options, content, row.src);\n      }\n\n      return [content, row._x, row._ymax];\n    };\n\n    Line.prototype.generatePaths = function () {\n      var coords, i, r, smooth;\n      return this.paths = function () {\n        var _i, _ref, _ref1, _results;\n\n        _results = [];\n\n        for (i = _i = 0, _ref = this.options.ykeys.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n          smooth = typeof this.options.smooth === \"boolean\" ? this.options.smooth : (_ref1 = this.options.ykeys[i], __indexOf.call(this.options.smooth, _ref1) >= 0);\n\n          coords = function () {\n            var _j, _len, _ref2, _results1;\n\n            _ref2 = this.data;\n            _results1 = [];\n\n            for (_j = 0, _len = _ref2.length; _j < _len; _j++) {\n              r = _ref2[_j];\n\n              if (r._y[i] !== void 0) {\n                _results1.push({\n                  x: r._x,\n                  y: r._y[i]\n                });\n              }\n            }\n\n            return _results1;\n          }.call(this);\n\n          if (coords.length > 1) {\n            _results.push(Morris.Line.createPath(coords, smooth, this.bottom));\n          } else {\n            _results.push(null);\n          }\n        }\n\n        return _results;\n      }.call(this);\n    };\n\n    Line.prototype.draw = function () {\n      var _ref;\n\n      if ((_ref = this.options.axes) === true || _ref === 'both' || _ref === 'x') {\n        this.drawXAxis();\n      }\n\n      this.drawSeries();\n\n      if (this.options.hideHover === false) {\n        return this.displayHoverForRow(this.data.length - 1);\n      }\n    };\n\n    Line.prototype.drawXAxis = function () {\n      var drawLabel,\n          l,\n          labels,\n          prevAngleMargin,\n          prevLabelMargin,\n          row,\n          ypos,\n          _i,\n          _len,\n          _results,\n          _this = this;\n\n      ypos = this.bottom + this.options.padding / 2;\n      prevLabelMargin = null;\n      prevAngleMargin = null;\n\n      drawLabel = function (labelText, xpos) {\n        var label, labelBox, margin, offset, textBox;\n        label = _this.drawXAxisLabel(_this.transX(xpos), ypos, labelText);\n        textBox = label.getBBox();\n        label.transform(\"r\" + -_this.options.xLabelAngle);\n        labelBox = label.getBBox();\n        label.transform(\"t0,\" + labelBox.height / 2 + \"...\");\n\n        if (_this.options.xLabelAngle !== 0) {\n          offset = -0.5 * textBox.width * Math.cos(_this.options.xLabelAngle * Math.PI / 180.0);\n          label.transform(\"t\" + offset + \",0...\");\n        }\n\n        labelBox = label.getBBox();\n\n        if ((prevLabelMargin == null || prevLabelMargin >= labelBox.x + labelBox.width || prevAngleMargin != null && prevAngleMargin >= labelBox.x) && labelBox.x >= 0 && labelBox.x + labelBox.width < _this.el.width()) {\n          if (_this.options.xLabelAngle !== 0) {\n            margin = 1.25 * _this.options.gridTextSize / Math.sin(_this.options.xLabelAngle * Math.PI / 180.0);\n            prevAngleMargin = labelBox.x - margin;\n          }\n\n          return prevLabelMargin = labelBox.x - _this.options.xLabelMargin;\n        } else {\n          return label.remove();\n        }\n      };\n\n      if (this.options.parseTime) {\n        if (this.data.length === 1 && this.options.xLabels === 'auto') {\n          labels = [[this.data[0].label, this.data[0].x]];\n        } else {\n          labels = Morris.labelSeries(this.xmin, this.xmax, this.width, this.options.xLabels, this.options.xLabelFormat);\n        }\n      } else {\n        labels = function () {\n          var _i, _len, _ref, _results;\n\n          _ref = this.data;\n          _results = [];\n\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            row = _ref[_i];\n\n            _results.push([row.label, row.x]);\n          }\n\n          return _results;\n        }.call(this);\n      }\n\n      labels.reverse();\n      _results = [];\n\n      for (_i = 0, _len = labels.length; _i < _len; _i++) {\n        l = labels[_i];\n\n        _results.push(drawLabel(l[0], l[1]));\n      }\n\n      return _results;\n    };\n\n    Line.prototype.drawSeries = function () {\n      var i, _i, _j, _ref, _ref1, _results;\n\n      this.seriesPoints = [];\n\n      for (i = _i = _ref = this.options.ykeys.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) {\n        if (this.hasToShow(i)) {\n          if (this.options.trendLine !== false && this.options.trendLine === true || this.options.trendLine[i] === true) {\n            this._drawTrendLine(i);\n          }\n\n          this._drawLineFor(i);\n        }\n      }\n\n      _results = [];\n\n      for (i = _j = _ref1 = this.options.ykeys.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; i = _ref1 <= 0 ? ++_j : --_j) {\n        if (this.hasToShow(i)) {\n          _results.push(this._drawPointFor(i));\n        } else {\n          _results.push(void 0);\n        }\n      }\n\n      return _results;\n    };\n\n    Line.prototype._drawPointFor = function (index) {\n      var circle, row, _i, _len, _ref, _results;\n\n      this.seriesPoints[index] = [];\n      _ref = this.data;\n      _results = [];\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        row = _ref[_i];\n        circle = null;\n\n        if (row._y[index] != null) {\n          circle = this.drawLinePoint(row._x, row._y[index], this.colorFor(row, index, 'point'), index);\n        }\n\n        _results.push(this.seriesPoints[index].push(circle));\n      }\n\n      return _results;\n    };\n\n    Line.prototype._drawLineFor = function (index) {\n      var path;\n      path = this.paths[index];\n\n      if (path !== null) {\n        return this.drawLinePath(path, this.colorFor(null, index, 'line'), index);\n      }\n    };\n\n    Line.prototype._drawTrendLine = function (index) {\n      var a, b, data, datapoints, path, sum_x, sum_xx, sum_xy, sum_y, val, x, y, _i, _len, _ref;\n\n      sum_x = 0;\n      sum_y = 0;\n      sum_xx = 0;\n      sum_xy = 0;\n      datapoints = 0;\n      _ref = this.data;\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        val = _ref[_i];\n        x = val.x;\n        y = val.y[index];\n\n        if (y === void 0) {\n          continue;\n        }\n\n        datapoints += 1;\n        sum_x += x;\n        sum_y += y;\n        sum_xx += x * x;\n        sum_xy += x * y;\n      }\n\n      a = (datapoints * sum_xy - sum_x * sum_y) / (datapoints * sum_xx - sum_x * sum_x);\n      b = sum_y / datapoints - a * sum_x / datapoints;\n      data = [{}, {}];\n      data[0].x = this.transX(this.data[0].x);\n      data[0].y = this.transY(this.data[0].x * a + b);\n      data[1].x = this.transX(this.data[this.data.length - 1].x);\n      data[1].y = this.transY(this.data[this.data.length - 1].x * a + b);\n      path = Morris.Line.createPath(data, false, this.bottom);\n      return path = this.raphael.path(path).attr('stroke', this.colorFor(null, index, 'trendLine')).attr('stroke-width', this.options.trendLineWidth);\n    };\n\n    Line.createPath = function (coords, smooth, bottom) {\n      var coord, g, grads, i, ix, lg, path, prevCoord, x1, x2, y1, y2, _i, _len;\n\n      path = \"\";\n\n      if (smooth) {\n        grads = Morris.Line.gradients(coords);\n      }\n\n      prevCoord = {\n        y: null\n      };\n\n      for (i = _i = 0, _len = coords.length; _i < _len; i = ++_i) {\n        coord = coords[i];\n\n        if (coord.y != null) {\n          if (prevCoord.y != null) {\n            if (smooth) {\n              g = grads[i];\n              lg = grads[i - 1];\n              ix = (coord.x - prevCoord.x) / 4;\n              x1 = prevCoord.x + ix;\n              y1 = Math.min(bottom, prevCoord.y + ix * lg);\n              x2 = coord.x - ix;\n              y2 = Math.min(bottom, coord.y - ix * g);\n              path += \"C\" + x1 + \",\" + y1 + \",\" + x2 + \",\" + y2 + \",\" + coord.x + \",\" + coord.y;\n            } else {\n              path += \"L\" + coord.x + \",\" + coord.y;\n            }\n          } else {\n            if (!smooth || grads[i] != null) {\n              path += \"M\" + coord.x + \",\" + coord.y;\n            }\n          }\n        }\n\n        prevCoord = coord;\n      }\n\n      return path;\n    };\n\n    Line.gradients = function (coords) {\n      var coord, grad, i, nextCoord, prevCoord, _i, _len, _results;\n\n      grad = function (a, b) {\n        return (a.y - b.y) / (a.x - b.x);\n      };\n\n      _results = [];\n\n      for (i = _i = 0, _len = coords.length; _i < _len; i = ++_i) {\n        coord = coords[i];\n\n        if (coord.y != null) {\n          nextCoord = coords[i + 1] || {\n            y: null\n          };\n          prevCoord = coords[i - 1] || {\n            y: null\n          };\n\n          if (prevCoord.y != null && nextCoord.y != null) {\n            _results.push(grad(prevCoord, nextCoord));\n          } else if (prevCoord.y != null) {\n            _results.push(grad(prevCoord, coord));\n          } else if (nextCoord.y != null) {\n            _results.push(grad(coord, nextCoord));\n          } else {\n            _results.push(null);\n          }\n        } else {\n          _results.push(null);\n        }\n      }\n\n      return _results;\n    };\n\n    Line.prototype.hilight = function (index) {\n      var i, _i, _j, _ref, _ref1;\n\n      if (this.prevHilight !== null && this.prevHilight !== index) {\n        for (i = _i = 0, _ref = this.seriesPoints.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {\n          if (this.seriesPoints[i][this.prevHilight]) {\n            this.seriesPoints[i][this.prevHilight].animate(this.pointShrinkSeries(i));\n          }\n        }\n      }\n\n      if (index !== null && this.prevHilight !== index) {\n        for (i = _j = 0, _ref1 = this.seriesPoints.length - 1; 0 <= _ref1 ? _j <= _ref1 : _j >= _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n          if (this.seriesPoints[i][index]) {\n            this.seriesPoints[i][index].animate(this.pointGrowSeries(i));\n          }\n        }\n      }\n\n      return this.prevHilight = index;\n    };\n\n    Line.prototype.colorFor = function (row, sidx, type) {\n      if (typeof this.options.lineColors === 'function') {\n        return this.options.lineColors.call(this, row, sidx, type);\n      } else if (type === 'point') {\n        return this.options.pointFillColors[sidx % this.options.pointFillColors.length] || this.options.lineColors[sidx % this.options.lineColors.length];\n      } else if (type === 'line') {\n        return this.options.lineColors[sidx % this.options.lineColors.length];\n      } else {\n        return this.options.trendLineColors[sidx % this.options.trendLineColors.length];\n      }\n    };\n\n    Line.prototype.drawXAxisLabel = function (xPos, yPos, text) {\n      return this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor);\n    };\n\n    Line.prototype.drawLinePath = function (path, lineColor, lineIndex) {\n      return this.raphael.path(path).attr('stroke', lineColor).attr('stroke-width', this.lineWidthForSeries(lineIndex));\n    };\n\n    Line.prototype.drawLinePoint = function (xPos, yPos, pointColor, lineIndex) {\n      return this.raphael.circle(xPos, yPos, this.pointSizeForSeries(lineIndex)).attr('fill', pointColor).attr('stroke-width', this.pointStrokeWidthForSeries(lineIndex)).attr('stroke', this.pointStrokeColorForSeries(lineIndex));\n    };\n\n    Line.prototype.pointStrokeWidthForSeries = function (index) {\n      return this.options.pointStrokeWidths[index % this.options.pointStrokeWidths.length];\n    };\n\n    Line.prototype.pointStrokeColorForSeries = function (index) {\n      return this.options.pointStrokeColors[index % this.options.pointStrokeColors.length];\n    };\n\n    Line.prototype.lineWidthForSeries = function (index) {\n      if (this.options.lineWidth instanceof Array) {\n        return this.options.lineWidth[index % this.options.lineWidth.length];\n      } else {\n        return this.options.lineWidth;\n      }\n    };\n\n    Line.prototype.pointSizeForSeries = function (index) {\n      if (this.options.pointSize instanceof Array) {\n        return this.options.pointSize[index % this.options.pointSize.length];\n      } else {\n        return this.options.pointSize;\n      }\n    };\n\n    Line.prototype.pointGrowSeries = function (index) {\n      if (this.pointSizeForSeries(index) === 0) {\n        return;\n      }\n\n      return Raphael.animation({\n        r: this.pointSizeForSeries(index) + 3\n      }, 25, 'linear');\n    };\n\n    Line.prototype.pointShrinkSeries = function (index) {\n      return Raphael.animation({\n        r: this.pointSizeForSeries(index)\n      }, 25, 'linear');\n    };\n\n    return Line;\n  }(Morris.Grid);\n\n  Morris.labelSeries = function (dmin, dmax, pxwidth, specName, xLabelFormat) {\n    var d, d0, ddensity, name, ret, s, spec, t, _i, _len, _ref;\n\n    ddensity = 200 * (dmax - dmin) / pxwidth;\n    d0 = new Date(dmin);\n    spec = Morris.LABEL_SPECS[specName];\n\n    if (spec === void 0) {\n      _ref = Morris.AUTO_LABEL_ORDER;\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        name = _ref[_i];\n        s = Morris.LABEL_SPECS[name];\n\n        if (ddensity >= s.span) {\n          spec = s;\n          break;\n        }\n      }\n    }\n\n    if (spec === void 0) {\n      spec = Morris.LABEL_SPECS[\"second\"];\n    }\n\n    if (xLabelFormat) {\n      spec = $.extend({}, spec, {\n        fmt: xLabelFormat\n      });\n    }\n\n    d = spec.start(d0);\n    ret = [];\n\n    while ((t = d.getTime()) <= dmax) {\n      if (t >= dmin) {\n        ret.push([spec.fmt(d), t]);\n      }\n\n      spec.incr(d);\n    }\n\n    return ret;\n  };\n\n  minutesSpecHelper = function (interval) {\n    return {\n      span: interval * 60 * 1000,\n      start: function (d) {\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours());\n      },\n      fmt: function (d) {\n        return \"\" + Morris.pad2(d.getHours()) + \":\" + Morris.pad2(d.getMinutes());\n      },\n      incr: function (d) {\n        return d.setUTCMinutes(d.getUTCMinutes() + interval);\n      }\n    };\n  };\n\n  secondsSpecHelper = function (interval) {\n    return {\n      span: interval * 1000,\n      start: function (d) {\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes());\n      },\n      fmt: function (d) {\n        return \"\" + Morris.pad2(d.getHours()) + \":\" + Morris.pad2(d.getMinutes()) + \":\" + Morris.pad2(d.getSeconds());\n      },\n      incr: function (d) {\n        return d.setUTCSeconds(d.getUTCSeconds() + interval);\n      }\n    };\n  };\n\n  Morris.LABEL_SPECS = {\n    \"decade\": {\n      span: 172800000000,\n      start: function (d) {\n        return new Date(d.getFullYear() - d.getFullYear() % 10, 0, 1);\n      },\n      fmt: function (d) {\n        return \"\" + d.getFullYear();\n      },\n      incr: function (d) {\n        return d.setFullYear(d.getFullYear() + 10);\n      }\n    },\n    \"year\": {\n      span: 17280000000,\n      start: function (d) {\n        return new Date(d.getFullYear(), 0, 1);\n      },\n      fmt: function (d) {\n        return \"\" + d.getFullYear();\n      },\n      incr: function (d) {\n        return d.setFullYear(d.getFullYear() + 1);\n      }\n    },\n    \"month\": {\n      span: 2419200000,\n      start: function (d) {\n        return new Date(d.getFullYear(), d.getMonth(), 1);\n      },\n      fmt: function (d) {\n        return \"\" + d.getFullYear() + \"-\" + Morris.pad2(d.getMonth() + 1);\n      },\n      incr: function (d) {\n        return d.setMonth(d.getMonth() + 1);\n      }\n    },\n    \"week\": {\n      span: 604800000,\n      start: function (d) {\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      },\n      fmt: function (d) {\n        return \"\" + d.getFullYear() + \"-\" + Morris.pad2(d.getMonth() + 1) + \"-\" + Morris.pad2(d.getDate());\n      },\n      incr: function (d) {\n        return d.setDate(d.getDate() + 7);\n      }\n    },\n    \"day\": {\n      span: 86400000,\n      start: function (d) {\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      },\n      fmt: function (d) {\n        return \"\" + d.getFullYear() + \"-\" + Morris.pad2(d.getMonth() + 1) + \"-\" + Morris.pad2(d.getDate());\n      },\n      incr: function (d) {\n        return d.setDate(d.getDate() + 1);\n      }\n    },\n    \"hour\": minutesSpecHelper(60),\n    \"30min\": minutesSpecHelper(30),\n    \"15min\": minutesSpecHelper(15),\n    \"10min\": minutesSpecHelper(10),\n    \"5min\": minutesSpecHelper(5),\n    \"minute\": minutesSpecHelper(1),\n    \"30sec\": secondsSpecHelper(30),\n    \"15sec\": secondsSpecHelper(15),\n    \"10sec\": secondsSpecHelper(10),\n    \"5sec\": secondsSpecHelper(5),\n    \"second\": secondsSpecHelper(1)\n  };\n  Morris.AUTO_LABEL_ORDER = [\"decade\", \"year\", \"month\", \"week\", \"day\", \"hour\", \"30min\", \"15min\", \"10min\", \"5min\", \"minute\", \"30sec\", \"15sec\", \"10sec\", \"5sec\", \"second\"];\n\n  Morris.Area = function (_super) {\n    var areaDefaults;\n\n    __extends(Area, _super);\n\n    areaDefaults = {\n      fillOpacity: 'auto',\n      behaveLikeLine: false\n    };\n\n    function Area(options) {\n      var areaOptions;\n\n      if (!(this instanceof Morris.Area)) {\n        return new Morris.Area(options);\n      }\n\n      areaOptions = $.extend({}, areaDefaults, options);\n      this.cumulative = !areaOptions.behaveLikeLine;\n\n      if (areaOptions.fillOpacity === 'auto') {\n        areaOptions.fillOpacity = areaOptions.behaveLikeLine ? .8 : 1;\n      }\n\n      Area.__super__.constructor.call(this, areaOptions);\n    }\n\n    Area.prototype.calcPoints = function () {\n      var row, total, y, _i, _len, _ref, _results;\n\n      _ref = this.data;\n      _results = [];\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        row = _ref[_i];\n        row._x = this.transX(row.x);\n        total = 0;\n\n        row._y = function () {\n          var _j, _len1, _ref1, _results1;\n\n          _ref1 = row.y;\n          _results1 = [];\n\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            y = _ref1[_j];\n\n            if (this.options.behaveLikeLine) {\n              _results1.push(this.transY(y));\n            } else {\n              total += y || 0;\n\n              _results1.push(this.transY(total));\n            }\n          }\n\n          return _results1;\n        }.call(this);\n\n        _results.push(row._ymax = Math.max.apply(Math, row._y));\n      }\n\n      return _results;\n    };\n\n    Area.prototype.drawSeries = function () {\n      var i, range, _i, _j, _k, _len, _ref, _ref1, _results, _results1, _results2;\n\n      this.seriesPoints = [];\n\n      if (this.options.behaveLikeLine) {\n        range = function () {\n          _results = [];\n\n          for (var _i = 0, _ref = this.options.ykeys.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; 0 <= _ref ? _i++ : _i--) {\n            _results.push(_i);\n          }\n\n          return _results;\n        }.apply(this);\n      } else {\n        range = function () {\n          _results1 = [];\n\n          for (var _j = _ref1 = this.options.ykeys.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; _ref1 <= 0 ? _j++ : _j--) {\n            _results1.push(_j);\n          }\n\n          return _results1;\n        }.apply(this);\n      }\n\n      _results2 = [];\n\n      for (_k = 0, _len = range.length; _k < _len; _k++) {\n        i = range[_k];\n\n        this._drawFillFor(i);\n\n        this._drawLineFor(i);\n\n        _results2.push(this._drawPointFor(i));\n      }\n\n      return _results2;\n    };\n\n    Area.prototype._drawFillFor = function (index) {\n      var path;\n      path = this.paths[index];\n\n      if (path !== null) {\n        path = path + (\"L\" + this.transX(this.xmax) + \",\" + this.bottom + \"L\" + this.transX(this.xmin) + \",\" + this.bottom + \"Z\");\n        return this.drawFilledPath(path, this.fillForSeries(index));\n      }\n    };\n\n    Area.prototype.fillForSeries = function (i) {\n      var color;\n      color = Raphael.rgb2hsl(this.colorFor(this.data[i], i, 'line'));\n      return Raphael.hsl(color.h, this.options.behaveLikeLine ? color.s * 0.9 : color.s * 0.75, Math.min(0.98, this.options.behaveLikeLine ? color.l * 1.2 : color.l * 1.25));\n    };\n\n    Area.prototype.drawFilledPath = function (path, fill) {\n      return this.raphael.path(path).attr('fill', fill).attr('fill-opacity', this.options.fillOpacity).attr('stroke', 'none');\n    };\n\n    return Area;\n  }(Morris.Line);\n\n  Morris.Bar = function (_super) {\n    __extends(Bar, _super);\n\n    function Bar(options) {\n      this.onHoverOut = __bind(this.onHoverOut, this);\n      this.onHoverMove = __bind(this.onHoverMove, this);\n      this.onGridClick = __bind(this.onGridClick, this);\n\n      if (!(this instanceof Morris.Bar)) {\n        return new Morris.Bar(options);\n      }\n\n      Bar.__super__.constructor.call(this, $.extend({}, options, {\n        parseTime: false\n      }));\n    }\n\n    Bar.prototype.init = function () {\n      this.cumulative = this.options.stacked;\n\n      if (this.options.hideHover !== 'always') {\n        this.hover = new Morris.Hover({\n          parent: this.el\n        });\n        this.on('hovermove', this.onHoverMove);\n        this.on('hoverout', this.onHoverOut);\n        return this.on('gridclick', this.onGridClick);\n      }\n    };\n\n    Bar.prototype.defaults = {\n      barSizeRatio: 0.75,\n      barGap: 3,\n      barColors: ['#0b62a4', '#7a92a3', '#4da74d', '#afd8f8', '#edc240', '#cb4b4b', '#9440ed'],\n      barOpacity: 1.0,\n      barRadius: [0, 0, 0, 0],\n      xLabelMargin: 50,\n      horizontal: false,\n      shown: true\n    };\n\n    Bar.prototype.calc = function () {\n      var _ref;\n\n      this.calcBars();\n\n      if (this.options.hideHover === false) {\n        return (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(this.data.length - 1));\n      }\n    };\n\n    Bar.prototype.calcBars = function () {\n      var idx, row, y, _i, _len, _ref, _results;\n\n      _ref = this.data;\n      _results = [];\n\n      for (idx = _i = 0, _len = _ref.length; _i < _len; idx = ++_i) {\n        row = _ref[idx];\n        row._x = this.xStart + this.xSize * (idx + 0.5) / this.data.length;\n\n        _results.push(row._y = function () {\n          var _j, _len1, _ref1, _results1;\n\n          _ref1 = row.y;\n          _results1 = [];\n\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            y = _ref1[_j];\n\n            if (y != null) {\n              _results1.push(this.transY(y));\n            } else {\n              _results1.push(null);\n            }\n          }\n\n          return _results1;\n        }.call(this));\n      }\n\n      return _results;\n    };\n\n    Bar.prototype.draw = function () {\n      var _ref;\n\n      if ((_ref = this.options.axes) === true || _ref === 'both' || _ref === 'x') {\n        this.drawXAxis();\n      }\n\n      return this.drawSeries();\n    };\n\n    Bar.prototype.drawXAxis = function () {\n      var angle, basePos, i, label, labelBox, margin, maxSize, offset, prevAngleMargin, prevLabelMargin, row, size, startPos, textBox, _i, _ref, _results;\n\n      if (!this.options.horizontal) {\n        basePos = this.getXAxisLabelY();\n      } else {\n        basePos = this.getYAxisLabelX();\n      }\n\n      prevLabelMargin = null;\n      prevAngleMargin = null;\n      _results = [];\n\n      for (i = _i = 0, _ref = this.data.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n        row = this.data[this.data.length - 1 - i];\n\n        if (!this.options.horizontal) {\n          label = this.drawXAxisLabel(row._x, basePos, row.label);\n        } else {\n          label = this.drawYAxisLabel(basePos, row._x - 0.5 * this.options.gridTextSize, row.label);\n        }\n\n        if (!this.options.horizontal) {\n          angle = this.options.xLabelAngle;\n        } else {\n          angle = 0;\n        }\n\n        textBox = label.getBBox();\n        label.transform(\"r\" + -angle);\n        labelBox = label.getBBox();\n        label.transform(\"t0,\" + labelBox.height / 2 + \"...\");\n\n        if (angle !== 0) {\n          offset = -0.5 * textBox.width * Math.cos(angle * Math.PI / 180.0);\n          label.transform(\"t\" + offset + \",0...\");\n        }\n\n        if (!this.options.horizontal) {\n          startPos = labelBox.x;\n          size = labelBox.width;\n          maxSize = this.el.width();\n        } else {\n          startPos = labelBox.y;\n          size = labelBox.height;\n          maxSize = this.el.height();\n        }\n\n        if ((prevLabelMargin == null || prevLabelMargin >= startPos + size || prevAngleMargin != null && prevAngleMargin >= startPos) && startPos >= 0 && startPos + size < maxSize) {\n          if (angle !== 0) {\n            margin = 1.25 * this.options.gridTextSize / Math.sin(angle * Math.PI / 180.0);\n            prevAngleMargin = startPos - margin;\n          }\n\n          if (!this.options.horizontal) {\n            _results.push(prevLabelMargin = startPos - this.options.xLabelMargin);\n          } else {\n            _results.push(prevLabelMargin = startPos);\n          }\n        } else {\n          _results.push(label.remove());\n        }\n      }\n\n      return _results;\n    };\n\n    Bar.prototype.getXAxisLabelY = function () {\n      return this.bottom + (this.options.xAxisLabelTopPadding || this.options.padding / 2);\n    };\n\n    Bar.prototype.drawSeries = function () {\n      var barWidth, bottom, groupWidth, i, idx, lastTop, left, leftPadding, numBars, row, sidx, size, spaceLeft, top, ypos, zeroPos, _i, _ref;\n\n      groupWidth = this.xSize / this.options.data.length;\n\n      if (this.options.stacked) {\n        numBars = 1;\n      } else {\n        numBars = 0;\n\n        for (i = _i = 0, _ref = this.options.ykeys.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {\n          if (this.hasToShow(i)) {\n            numBars += 1;\n          }\n        }\n      }\n\n      barWidth = (groupWidth * this.options.barSizeRatio - this.options.barGap * (numBars - 1)) / numBars;\n\n      if (this.options.barSize) {\n        barWidth = Math.min(barWidth, this.options.barSize);\n      }\n\n      spaceLeft = groupWidth - barWidth * numBars - this.options.barGap * (numBars - 1);\n      leftPadding = spaceLeft / 2;\n      zeroPos = this.ymin <= 0 && this.ymax >= 0 ? this.transY(0) : null;\n      return this.bars = function () {\n        var _j, _len, _ref1, _results;\n\n        _ref1 = this.data;\n        _results = [];\n\n        for (idx = _j = 0, _len = _ref1.length; _j < _len; idx = ++_j) {\n          row = _ref1[idx];\n          lastTop = 0;\n\n          _results.push(function () {\n            var _k, _len1, _ref2, _results1;\n\n            _ref2 = row._y;\n            _results1 = [];\n\n            for (sidx = _k = 0, _len1 = _ref2.length; _k < _len1; sidx = ++_k) {\n              ypos = _ref2[sidx];\n\n              if (!this.hasToShow(sidx)) {\n                continue;\n              }\n\n              if (ypos !== null) {\n                if (zeroPos) {\n                  top = Math.min(ypos, zeroPos);\n                  bottom = Math.max(ypos, zeroPos);\n                } else {\n                  top = ypos;\n                  bottom = this.bottom;\n                }\n\n                left = this.xStart + idx * groupWidth + leftPadding;\n\n                if (!this.options.stacked) {\n                  left += sidx * (barWidth + this.options.barGap);\n                }\n\n                size = bottom - top;\n\n                if (this.options.verticalGridCondition && this.options.verticalGridCondition(row.x)) {\n                  if (!this.options.horizontal) {\n                    this.drawBar(this.xStart + idx * groupWidth, this.yEnd, groupWidth, this.ySize, this.options.verticalGridColor, this.options.verticalGridOpacity, this.options.barRadius);\n                  } else {\n                    this.drawBar(this.yStart, this.xStart + idx * groupWidth, this.ySize, groupWidth, this.options.verticalGridColor, this.options.verticalGridOpacity, this.options.barRadius);\n                  }\n                }\n\n                if (this.options.stacked) {\n                  top -= lastTop;\n                }\n\n                if (!this.options.horizontal) {\n                  this.drawBar(left, top, barWidth, size, this.colorFor(row, sidx, 'bar'), this.options.barOpacity, this.options.barRadius);\n\n                  _results1.push(lastTop += size);\n                } else {\n                  this.drawBar(top, left, size, barWidth, this.colorFor(row, sidx, 'bar'), this.options.barOpacity, this.options.barRadius);\n\n                  _results1.push(lastTop -= size);\n                }\n              } else {\n                _results1.push(null);\n              }\n            }\n\n            return _results1;\n          }.call(this));\n        }\n\n        return _results;\n      }.call(this);\n    };\n\n    Bar.prototype.colorFor = function (row, sidx, type) {\n      var r, s;\n\n      if (typeof this.options.barColors === 'function') {\n        r = {\n          x: row.x,\n          y: row.y[sidx],\n          label: row.label\n        };\n        s = {\n          index: sidx,\n          key: this.options.ykeys[sidx],\n          label: this.options.labels[sidx]\n        };\n        return this.options.barColors.call(this, r, s, type);\n      } else {\n        return this.options.barColors[sidx % this.options.barColors.length];\n      }\n    };\n\n    Bar.prototype.hitTest = function (x, y) {\n      var pos;\n\n      if (this.data.length === 0) {\n        return null;\n      }\n\n      if (!this.options.horizontal) {\n        pos = x;\n      } else {\n        pos = y;\n      }\n\n      pos = Math.max(Math.min(pos, this.xEnd), this.xStart);\n      return Math.min(this.data.length - 1, Math.floor((pos - this.xStart) / (this.xSize / this.data.length)));\n    };\n\n    Bar.prototype.onGridClick = function (x, y) {\n      var index;\n      index = this.hitTest(x, y);\n      return this.fire('click', index, this.data[index].src, x, y);\n    };\n\n    Bar.prototype.onHoverMove = function (x, y) {\n      var index, _ref;\n\n      index = this.hitTest(x, y);\n      return (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(index));\n    };\n\n    Bar.prototype.onHoverOut = function () {\n      if (this.options.hideHover !== false) {\n        return this.hover.hide();\n      }\n    };\n\n    Bar.prototype.hoverContentForRow = function (index) {\n      var content, j, row, x, y, _i, _len, _ref;\n\n      row = this.data[index];\n      content = $(\"<div class='morris-hover-row-label'>\").text(row.label);\n      content = content.prop('outerHTML');\n      _ref = row.y;\n\n      for (j = _i = 0, _len = _ref.length; _i < _len; j = ++_i) {\n        y = _ref[j];\n\n        if (this.options.labels[j] === false) {\n          continue;\n        }\n\n        content += \"<div class='morris-hover-point' style='color: \" + this.colorFor(row, j, 'label') + \"'>\\n  \" + this.options.labels[j] + \":\\n  \" + this.yLabelFormat(y, j) + \"\\n</div>\";\n      }\n\n      if (typeof this.options.hoverCallback === 'function') {\n        content = this.options.hoverCallback(index, this.options, content, row.src);\n      }\n\n      if (!this.options.horizontal) {\n        x = this.left + (index + 0.5) * this.width / this.data.length;\n        return [content, x];\n      } else {\n        x = this.left + 0.5 * this.width;\n        y = this.top + (index + 0.5) * this.height / this.data.length;\n        return [content, x, y, true];\n      }\n    };\n\n    Bar.prototype.drawXAxisLabel = function (xPos, yPos, text) {\n      var label;\n      return label = this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor);\n    };\n\n    Bar.prototype.drawBar = function (xPos, yPos, width, height, barColor, opacity, radiusArray) {\n      var maxRadius, path;\n      maxRadius = Math.max.apply(Math, radiusArray);\n\n      if (maxRadius === 0 || maxRadius > height) {\n        path = this.raphael.rect(xPos, yPos, width, height);\n      } else {\n        path = this.raphael.path(this.roundedRect(xPos, yPos, width, height, radiusArray));\n      }\n\n      return path.attr('fill', barColor).attr('fill-opacity', opacity).attr('stroke', 'none');\n    };\n\n    Bar.prototype.roundedRect = function (x, y, w, h, r) {\n      if (r == null) {\n        r = [0, 0, 0, 0];\n      }\n\n      return [\"M\", x, r[0] + y, \"Q\", x, y, x + r[0], y, \"L\", x + w - r[1], y, \"Q\", x + w, y, x + w, y + r[1], \"L\", x + w, y + h - r[2], \"Q\", x + w, y + h, x + w - r[2], y + h, \"L\", x + r[3], y + h, \"Q\", x, y + h, x, y + h - r[3], \"Z\"];\n    };\n\n    return Bar;\n  }(Morris.Grid);\n\n  Morris.Donut = function (_super) {\n    __extends(Donut, _super);\n\n    Donut.prototype.defaults = {\n      colors: ['#0B62A4', '#3980B5', '#679DC6', '#95BBD7', '#B0CCE1', '#095791', '#095085', '#083E67', '#052C48', '#042135'],\n      backgroundColor: '#FFFFFF',\n      labelColor: '#000000',\n      formatter: Morris.commas,\n      showPercentage: false,\n      resize: false\n    };\n\n    function Donut(options) {\n      this.resizeHandler = __bind(this.resizeHandler, this);\n      this.select = __bind(this.select, this);\n      this.click = __bind(this.click, this);\n\n      var _this = this;\n\n      if (!(this instanceof Morris.Donut)) {\n        return new Morris.Donut(options);\n      }\n\n      this.options = $.extend({}, this.defaults, options);\n\n      if (typeof options.element === 'string') {\n        this.el = $(document.getElementById(options.element));\n      } else {\n        this.el = $(options.element);\n      }\n\n      if (this.el === null || this.el.length === 0) {\n        throw new Error(\"Graph placeholder not found.\");\n      }\n\n      if (options.data === void 0 || options.data.length === 0) {\n        return;\n      }\n\n      this.raphael = new Raphael(this.el[0]);\n\n      if (this.options.resize) {\n        $(window).bind('resize', function (evt) {\n          if (_this.timeoutId != null) {\n            clearTimeout(_this.timeoutId);\n          }\n\n          return _this.timeoutId = setTimeout(_this.resizeHandler, 100);\n        });\n      }\n\n      this.setData(options.data);\n    }\n\n    Donut.prototype.redraw = function () {\n      var C, cx, cy, i, idx, last, max_value, min, next, seg, total, value, w, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\n\n      this.raphael.clear();\n      cx = this.el.width() / 2;\n      cy = this.el.height() / 2;\n      w = (Math.min(cx, cy) - 10) / 3;\n      total = 0;\n      _ref = this.values;\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        value = _ref[_i];\n        total += value;\n      }\n\n      min = 5 / (2 * w);\n      C = 1.9999 * Math.PI - min * this.data.length;\n      last = 0;\n      idx = 0;\n      this.segments = [];\n      _ref1 = this.values;\n\n      for (i = _j = 0, _len1 = _ref1.length; _j < _len1; i = ++_j) {\n        value = _ref1[i];\n        next = last + min + C * (value / total);\n        seg = new Morris.DonutSegment(cx, cy, w * 2, w, last, next, this.data[i].color || this.options.colors[idx % this.options.colors.length], this.options.backgroundColor, idx, this.raphael);\n        seg.render();\n        this.segments.push(seg);\n        seg.on('hover', this.select);\n        seg.on('click', this.click);\n        last = next;\n        idx += 1;\n      }\n\n      this.text1 = this.drawEmptyDonutLabel(cx, cy - 10, this.options.labelColor, 15, 800);\n      this.text2 = this.drawEmptyDonutLabel(cx, cy + 10, this.options.labelColor, 14);\n      max_value = Math.max.apply(Math, this.values);\n      idx = 0;\n      _ref2 = this.values;\n      _results = [];\n\n      for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n        value = _ref2[_k];\n\n        if (value === max_value) {\n          this.select(idx);\n          break;\n        }\n\n        _results.push(idx += 1);\n      }\n\n      return _results;\n    };\n\n    Donut.prototype.setData = function (data) {\n      var row;\n      this.data = data;\n\n      this.values = function () {\n        var _i, _len, _ref, _results;\n\n        _ref = this.data;\n        _results = [];\n\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          row = _ref[_i];\n\n          _results.push(parseFloat(row.value));\n        }\n\n        return _results;\n      }.call(this);\n\n      return this.redraw();\n    };\n\n    Donut.prototype.click = function (idx) {\n      return this.fire('click', idx, this.data[idx]);\n    };\n\n    Donut.prototype.select = function (idx) {\n      let finalValue;\n      /*\n       * Deselects all when idx is not provided\n       * without triggering error\n       */\n\n      if (typeof idx === 'undefined') {\n        this.segments.forEach(segment => {\n          segment.deselect();\n        });\n        return;\n      }\n\n      var row, s, segment, _i, _len, _ref;\n\n      _ref = this.segments;\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        s = _ref[_i];\n        s.deselect();\n      }\n\n      segment = this.segments[idx];\n      segment.select();\n      row = this.data[idx];\n      finalValue = this.options.formatter(row.value, row);\n\n      if (this.options.showPercentage) {\n        let overall = 0;\n        this.data.forEach(dataRow => {\n          overall += dataRow.value;\n        });\n        finalValue = Math.round(row.value / overall * 100) + '%';\n      }\n\n      return this.setLabels(row.label, finalValue);\n    };\n\n    Donut.prototype.setLabels = function (label1, label2) {\n      var inner, maxHeightBottom, maxHeightTop, maxWidth, text1bbox, text1scale, text2bbox, text2scale;\n      inner = (Math.min(this.el.width() / 2, this.el.height() / 2) - 10) * 2 / 3;\n      maxWidth = 1.8 * inner;\n      maxHeightTop = inner / 2;\n      maxHeightBottom = inner / 3;\n      this.text1.attr({\n        text: label1,\n        transform: ''\n      });\n      text1bbox = this.text1.getBBox();\n      text1scale = Math.min(maxWidth / text1bbox.width, maxHeightTop / text1bbox.height);\n      this.text1.attr({\n        transform: \"S\" + text1scale + \",\" + text1scale + \",\" + (text1bbox.x + text1bbox.width / 2) + \",\" + (text1bbox.y + text1bbox.height)\n      });\n      this.text2.attr({\n        text: label2,\n        transform: ''\n      });\n      text2bbox = this.text2.getBBox();\n      text2scale = Math.min(maxWidth / text2bbox.width, maxHeightBottom / text2bbox.height);\n      return this.text2.attr({\n        transform: \"S\" + text2scale + \",\" + text2scale + \",\" + (text2bbox.x + text2bbox.width / 2) + \",\" + text2bbox.y\n      });\n    };\n\n    Donut.prototype.drawEmptyDonutLabel = function (xPos, yPos, color, fontSize, fontWeight) {\n      var text;\n      text = this.raphael.text(xPos, yPos, '').attr('font-size', fontSize).attr('fill', color);\n\n      if (fontWeight != null) {\n        text.attr('font-weight', fontWeight);\n      }\n\n      return text;\n    };\n\n    Donut.prototype.resizeHandler = function () {\n      this.timeoutId = null;\n      this.raphael.setSize(this.el.width(), this.el.height());\n      return this.redraw();\n    };\n\n    return Donut;\n  }(Morris.EventEmitter);\n\n  Morris.DonutSegment = function (_super) {\n    __extends(DonutSegment, _super);\n\n    function DonutSegment(cx, cy, inner, outer, p0, p1, color, backgroundColor, index, raphael) {\n      this.cx = cx;\n      this.cy = cy;\n      this.inner = inner;\n      this.outer = outer;\n      this.color = color;\n      this.backgroundColor = backgroundColor;\n      this.index = index;\n      this.raphael = raphael;\n      this.deselect = __bind(this.deselect, this);\n      this.select = __bind(this.select, this);\n      this.sin_p0 = Math.sin(p0);\n      this.cos_p0 = Math.cos(p0);\n      this.sin_p1 = Math.sin(p1);\n      this.cos_p1 = Math.cos(p1);\n      this.is_long = p1 - p0 > Math.PI ? 1 : 0;\n      this.path = this.calcSegment(this.inner + 3, this.inner + this.outer - 5);\n      this.selectedPath = this.calcSegment(this.inner + 3, this.inner + this.outer);\n      this.hilight = this.calcArc(this.inner);\n    }\n\n    DonutSegment.prototype.calcArcPoints = function (r) {\n      return [this.cx + r * this.sin_p0, this.cy + r * this.cos_p0, this.cx + r * this.sin_p1, this.cy + r * this.cos_p1];\n    };\n\n    DonutSegment.prototype.calcSegment = function (r1, r2) {\n      var ix0, ix1, iy0, iy1, ox0, ox1, oy0, oy1, _ref, _ref1;\n\n      _ref = this.calcArcPoints(r1), ix0 = _ref[0], iy0 = _ref[1], ix1 = _ref[2], iy1 = _ref[3];\n      _ref1 = this.calcArcPoints(r2), ox0 = _ref1[0], oy0 = _ref1[1], ox1 = _ref1[2], oy1 = _ref1[3];\n      return \"M\" + ix0 + \",\" + iy0 + (\"A\" + r1 + \",\" + r1 + \",0,\" + this.is_long + \",0,\" + ix1 + \",\" + iy1) + (\"L\" + ox1 + \",\" + oy1) + (\"A\" + r2 + \",\" + r2 + \",0,\" + this.is_long + \",1,\" + ox0 + \",\" + oy0) + \"Z\";\n    };\n\n    DonutSegment.prototype.calcArc = function (r) {\n      var ix0, ix1, iy0, iy1, _ref;\n\n      _ref = this.calcArcPoints(r), ix0 = _ref[0], iy0 = _ref[1], ix1 = _ref[2], iy1 = _ref[3];\n      return \"M\" + ix0 + \",\" + iy0 + (\"A\" + r + \",\" + r + \",0,\" + this.is_long + \",0,\" + ix1 + \",\" + iy1);\n    };\n\n    DonutSegment.prototype.render = function () {\n      var _this = this;\n\n      this.arc = this.drawDonutArc(this.hilight, this.color);\n      return this.seg = this.drawDonutSegment(this.path, this.color, this.backgroundColor, function () {\n        return _this.fire('hover', _this.index);\n      }, function () {\n        return _this.fire('click', _this.index);\n      });\n    };\n\n    DonutSegment.prototype.drawDonutArc = function (path, color) {\n      return this.raphael.path(path).attr({\n        stroke: color,\n        'stroke-width': 2,\n        opacity: 0\n      });\n    };\n\n    DonutSegment.prototype.drawDonutSegment = function (path, fillColor, strokeColor, hoverFunction, clickFunction) {\n      return this.raphael.path(path).attr({\n        fill: fillColor,\n        stroke: strokeColor,\n        'stroke-width': 3\n      }).hover(hoverFunction).click(clickFunction);\n    };\n\n    DonutSegment.prototype.select = function () {\n      if (!this.selected) {\n        this.seg.animate({\n          path: this.selectedPath\n        }, 150, '<>');\n        this.arc.animate({\n          opacity: 1\n        }, 150, '<>');\n        return this.selected = true;\n      }\n    };\n\n    DonutSegment.prototype.deselect = function () {\n      if (this.selected) {\n        this.seg.animate({\n          path: this.path\n        }, 150, '<>');\n        this.arc.animate({\n          opacity: 0\n        }, 150, '<>');\n        return this.selected = false;\n      }\n    };\n\n    return DonutSegment;\n  }(Morris.EventEmitter);\n\n  return Morris;\n}\n\nmodule.exports = makeMorris;","map":{"version":3,"names":["Raphael","require","makeMorris","jQuery","Morris","$","minutesSpecHelper","secondsSpecHelper","__slice","slice","__bind","fn","me","apply","arguments","__hasProp","hasOwnProperty","__extends","child","parent","key","call","ctor","constructor","prototype","__super__","__indexOf","indexOf","item","i","l","length","EventEmitter","on","name","handler","handlers","push","fire","args","_i","_len","_ref","_results","commas","num","absnum","intnum","ret","strabsnum","Math","abs","floor","toFixed","replace","toString","pad2","number","Grid","_super","options","hasToShow","resizeHandler","_this","element","el","document","getElementById","Error","css","extend","gridDefaults","defaults","units","postUnits","raphael","elementWidth","elementHeight","dirty","selectFrom","init","setData","data","bind","evt","left","offset","right","width","x","pageX","hitTest","min","_x","max","selectionRect","attr","pageY","top","hide","touch","originalEvent","touches","changedTouches","rangeSelect","rect","innerHeight","fill","rangeSelectColor","stroke","toBack","startRange","endRange","resize","window","timeoutId","clearTimeout","setTimeout","postInit","dateFormat","axes","grid","gridLineColor","gridStrokeWidth","gridTextColor","gridTextSize","gridTextFamily","gridTextWeight","hideHover","yLabelFormat","xLabelAngle","numLines","padding","parseTime","preUnits","ymax","ymin","goals","goalStrokeWidth","goalLineColors","events","eventStrokeWidth","eventLineColors","redraw","e","flatEvents","from","idx","index","maxGoal","minGoal","row","step","to","total","y","ykey","yval","_ref1","clear","hover","cumulative","src","label","xkey","parseDate","Date","xLabelFormat","_j","_len1","_results1","ykeys","parseFloat","sort","a","b","xmin","xmax","Array","map","yboundary","autoGridLines","_ref2","_ref3","boundaryType","currentValue","boundaryOption","suggestedValue","parseInt","nlines","gmax","gmin","smag","span","unit","ymag","log","pow","ceil","_calc","angle","bottomOffsets","gridLine","h","w","yLabelWidths","height","bottom","measureText","yAxisFormat","horizontal","dx","dy","yStart","yEnd","xStart","xEnd","xSize","ySize","calc","transY","transX","drawGrid","drawGoals","drawEvents","draw","text","tt","rotate","getBBox","remove","getYAxisLabelX","basePos","lineY","pos","getXAxisLabelY","drawYAxisLabel","drawXAxisLabel","drawGridLine","color","goal","drawGoal","event","drawEvent","path","xPos","yPos","show","end","start","setSize","shown","date","isecs","m","msecs","n","o","offsetmins","p","q","r","secs","match","getTime","getDay","setMonth","UTC","round","Hover","append","update","html","centre_y","moveTo","content","hoverHeight","hoverWidth","parentHeight","parentWidth","innerWidth","outerWidth","outerHeight","Line","hilight","onHoverOut","onHoverMove","onGridClick","lineWidth","pointSize","lineColors","pointStrokeWidths","pointStrokeColors","pointFillColors","smooth","xLabels","xLabelMargin","trendLine","trendLineWidth","trendLineColors","calcPoints","generatePaths","_y","_ymax","concat","displayHoverForRow","hoverContentForRow","j","prop","labels","colorFor","hoverCallback","coords","paths","createPath","drawXAxis","drawSeries","drawLabel","prevAngleMargin","prevLabelMargin","ypos","labelText","xpos","labelBox","margin","textBox","transform","cos","PI","sin","labelSeries","reverse","seriesPoints","_drawTrendLine","_drawLineFor","_drawPointFor","circle","drawLinePoint","drawLinePath","datapoints","sum_x","sum_xx","sum_xy","sum_y","val","coord","g","grads","ix","lg","prevCoord","x1","x2","y1","y2","gradients","grad","nextCoord","prevHilight","animate","pointShrinkSeries","pointGrowSeries","sidx","type","lineColor","lineIndex","lineWidthForSeries","pointColor","pointSizeForSeries","pointStrokeWidthForSeries","pointStrokeColorForSeries","animation","dmin","dmax","pxwidth","specName","d","d0","ddensity","s","spec","t","LABEL_SPECS","AUTO_LABEL_ORDER","fmt","incr","interval","getFullYear","getMonth","getDate","getHours","getMinutes","setUTCMinutes","getUTCMinutes","getSeconds","setUTCSeconds","getUTCSeconds","setFullYear","setDate","Area","areaDefaults","fillOpacity","behaveLikeLine","areaOptions","range","_k","_results2","_drawFillFor","drawFilledPath","fillForSeries","rgb2hsl","hsl","Bar","stacked","barSizeRatio","barGap","barColors","barOpacity","barRadius","calcBars","maxSize","size","startPos","xAxisLabelTopPadding","barWidth","groupWidth","lastTop","leftPadding","numBars","spaceLeft","zeroPos","barSize","bars","verticalGridCondition","drawBar","verticalGridColor","verticalGridOpacity","barColor","opacity","radiusArray","maxRadius","roundedRect","Donut","colors","backgroundColor","labelColor","formatter","showPercentage","select","click","C","cx","cy","last","max_value","next","seg","value","_len2","values","segments","DonutSegment","render","text1","drawEmptyDonutLabel","text2","finalValue","forEach","segment","deselect","overall","dataRow","setLabels","label1","label2","inner","maxHeightBottom","maxHeightTop","maxWidth","text1bbox","text1scale","text2bbox","text2scale","fontSize","fontWeight","outer","p0","p1","sin_p0","cos_p0","sin_p1","cos_p1","is_long","calcSegment","selectedPath","calcArc","calcArcPoints","r1","r2","ix0","ix1","iy0","iy1","ox0","ox1","oy0","oy1","arc","drawDonutArc","drawDonutSegment","fillColor","strokeColor","hoverFunction","clickFunction","selected","module","exports"],"sources":["/var/www/html/asset-haier/frontend/node_modules/morris-js-module/morris.js"],"sourcesContent":["const Raphael = require('raphael');\n/* @license\nmorris.js v0.5.1\nCopyright 2014 Olly Smith All rights reserved.\nLicensed under the BSD-2-Clause License.\n*/\n\n\nfunction makeMorris(jQuery) {\n  const Morris = {};\n  var $, minutesSpecHelper, secondsSpecHelper,\n    __slice = [].slice,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n\n  $ = jQuery;\n\n  Morris.EventEmitter = (function() {\n    function EventEmitter() {}\n\n    EventEmitter.prototype.on = function(name, handler) {\n      if (this.handlers == null) {\n        this.handlers = {};\n      }\n      if (this.handlers[name] == null) {\n        this.handlers[name] = [];\n      }\n      this.handlers[name].push(handler);\n      return this;\n    };\n\n    EventEmitter.prototype.fire = function() {\n      var args, handler, name, _i, _len, _ref, _results;\n      name = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if ((this.handlers != null) && (this.handlers[name] != null)) {\n        _ref = this.handlers[name];\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          handler = _ref[_i];\n          _results.push(handler.apply(null, args));\n        }\n        return _results;\n      }\n    };\n\n    return EventEmitter;\n\n  })();\n\n  Morris.commas = function(num) {\n    var absnum, intnum, ret, strabsnum;\n    if (num != null) {\n      ret = num < 0 ? \"-\" : \"\";\n      absnum = Math.abs(num);\n      intnum = Math.floor(absnum).toFixed(0);\n      ret += intnum.replace(/(?=(?:\\d{3})+$)(?!^)/g, ',');\n      strabsnum = absnum.toString();\n      if (strabsnum.length > intnum.length) {\n        ret += strabsnum.slice(intnum.length);\n      }\n      return ret;\n    } else {\n      return '-';\n    }\n  };\n\n  Morris.pad2 = function(number) {\n    return (number < 10 ? '0' : '') + number;\n  };\n\n  Morris.Grid = (function(_super) {\n    __extends(Grid, _super);\n\n    function Grid(options) {\n      this.hasToShow = __bind(this.hasToShow, this);\n      this.resizeHandler = __bind(this.resizeHandler, this);\n      var _this = this;\n      if (typeof options.element === 'string') {\n        this.el = $(document.getElementById(options.element));\n      } else {\n        this.el = $(options.element);\n      }\n      if ((this.el == null) || this.el.length === 0) {\n        throw new Error(\"Graph container element not found\");\n      }\n      if (this.el.css('position') === 'static') {\n        this.el.css('position', 'relative');\n      }\n      this.options = $.extend({}, this.gridDefaults, this.defaults || {}, options);\n      if (typeof this.options.units === 'string') {\n        this.options.postUnits = options.units;\n      }\n      this.raphael = new Raphael(this.el[0]);\n      this.elementWidth = null;\n      this.elementHeight = null;\n      this.dirty = false;\n      this.selectFrom = null;\n      if (this.init) {\n        this.init();\n      }\n      this.setData(this.options.data);\n      this.el.bind('mousemove', function(evt) {\n        var left, offset, right, width, x;\n        offset = _this.el.offset();\n        x = evt.pageX - offset.left;\n        if (_this.selectFrom) {\n          left = _this.data[_this.hitTest(Math.min(x, _this.selectFrom))]._x;\n          right = _this.data[_this.hitTest(Math.max(x, _this.selectFrom))]._x;\n          width = right - left;\n          return _this.selectionRect.attr({\n            x: left,\n            width: width\n          });\n        } else {\n          return _this.fire('hovermove', x, evt.pageY - offset.top);\n        }\n      });\n      this.el.bind('mouseleave', function(evt) {\n        if (_this.selectFrom) {\n          _this.selectionRect.hide();\n          _this.selectFrom = null;\n        }\n        return _this.fire('hoverout');\n      });\n      this.el.bind('touchstart touchmove touchend', function(evt) {\n        var offset, touch;\n        touch = evt.originalEvent.touches[0] || evt.originalEvent.changedTouches[0];\n        offset = _this.el.offset();\n        return _this.fire('hovermove', touch.pageX - offset.left, touch.pageY - offset.top);\n      });\n      this.el.bind('click', function(evt) {\n        var offset;\n        offset = _this.el.offset();\n        return _this.fire('gridclick', evt.pageX - offset.left, evt.pageY - offset.top);\n      });\n      if (this.options.rangeSelect) {\n        this.selectionRect = this.raphael.rect(0, 0, 0, this.el.innerHeight()).attr({\n          fill: this.options.rangeSelectColor,\n          stroke: false\n        }).toBack().hide();\n        this.el.bind('mousedown', function(evt) {\n          var offset;\n          offset = _this.el.offset();\n          return _this.startRange(evt.pageX - offset.left);\n        });\n        this.el.bind('mouseup', function(evt) {\n          var offset;\n          offset = _this.el.offset();\n          _this.endRange(evt.pageX - offset.left);\n          return _this.fire('hovermove', evt.pageX - offset.left, evt.pageY - offset.top);\n        });\n      }\n      if (this.options.resize) {\n        $(window).bind('resize', function(evt) {\n          if (_this.timeoutId != null) {\n            clearTimeout(_this.timeoutId);\n          }\n          return _this.timeoutId = setTimeout(_this.resizeHandler, 100);\n        });\n      }\n      this.el.css('-webkit-tap-highlight-color', 'rgba(0,0,0,0)');\n      if (this.postInit) {\n        this.postInit();\n      }\n    }\n\n    Grid.prototype.gridDefaults = {\n      dateFormat: null,\n      axes: true,\n      grid: true,\n      gridLineColor: '#aaa',\n      gridStrokeWidth: 0.5,\n      gridTextColor: '#888',\n      gridTextSize: 12,\n      gridTextFamily: 'sans-serif',\n      gridTextWeight: 'normal',\n      hideHover: false,\n      yLabelFormat: null,\n      xLabelAngle: 0,\n      numLines: 5,\n      padding: 25,\n      parseTime: true,\n      postUnits: '',\n      preUnits: '',\n      ymax: 'auto',\n      ymin: 'auto 0',\n      goals: [],\n      goalStrokeWidth: 1.0,\n      goalLineColors: ['#666633', '#999966', '#cc6666', '#663333'],\n      events: [],\n      eventStrokeWidth: 1.0,\n      eventLineColors: ['#005a04', '#ccffbb', '#3a5f0b', '#005502'],\n      rangeSelect: null,\n      rangeSelectColor: '#eef',\n      resize: false\n    };\n\n    Grid.prototype.setData = function(data, redraw) {\n      var e, flatEvents, from, idx, index, maxGoal, minGoal, ret, row, step, to, total, y, ykey, ymax, ymin, yval, _i, _len, _ref, _ref1;\n      if (redraw == null) {\n        redraw = true;\n      }\n      this.options.data = data;\n      if ((data == null) || data.length === 0) {\n        this.data = [];\n        this.raphael.clear();\n        if (this.hover != null) {\n          this.hover.hide();\n        }\n        return;\n      }\n      ymax = this.cumulative ? 0 : null;\n      ymin = this.cumulative ? 0 : null;\n      if (this.options.goals.length > 0) {\n        minGoal = Math.min.apply(Math, this.options.goals);\n        maxGoal = Math.max.apply(Math, this.options.goals);\n        ymin = ymin != null ? Math.min(ymin, minGoal) : minGoal;\n        ymax = ymax != null ? Math.max(ymax, maxGoal) : maxGoal;\n      }\n      this.data = (function() {\n        var _i, _len, _results;\n        _results = [];\n        for (index = _i = 0, _len = data.length; _i < _len; index = ++_i) {\n          row = data[index];\n          ret = {\n            src: row\n          };\n          ret.label = row[this.options.xkey];\n          if (this.options.parseTime) {\n            ret.x = Morris.parseDate(ret.label);\n            if (this.options.dateFormat) {\n              ret.label = this.options.dateFormat(ret.x);\n            } else if (typeof ret.label === 'number') {\n              ret.label = new Date(ret.label).toString();\n            }\n          } else {\n            ret.x = index;\n            if (this.options.xLabelFormat) {\n              ret.label = this.options.xLabelFormat(ret);\n            }\n          }\n          total = 0;\n          ret.y = (function() {\n            var _j, _len1, _ref, _results1;\n            _ref = this.options.ykeys;\n            _results1 = [];\n            for (idx = _j = 0, _len1 = _ref.length; _j < _len1; idx = ++_j) {\n              ykey = _ref[idx];\n              yval = row[ykey];\n              if (typeof yval === 'string') {\n                yval = parseFloat(yval);\n              }\n              if ((yval != null) && typeof yval !== 'number') {\n                yval = null;\n              }\n              if ((yval != null) && this.hasToShow(idx)) {\n                if (this.cumulative) {\n                  total += yval;\n                } else {\n                  if (ymax != null) {\n                    ymax = Math.max(yval, ymax);\n                    ymin = Math.min(yval, ymin);\n                  } else {\n                    ymax = ymin = yval;\n                  }\n                }\n              }\n              if (this.cumulative && (total != null)) {\n                ymax = Math.max(total, ymax);\n                ymin = Math.min(total, ymin);\n              }\n              _results1.push(yval);\n            }\n            return _results1;\n          }).call(this);\n          _results.push(ret);\n        }\n        return _results;\n      }).call(this);\n      if (this.options.parseTime) {\n        this.data = this.data.sort(function(a, b) {\n          return (a.x > b.x) - (b.x > a.x);\n        });\n      }\n      this.xmin = this.data[0].x;\n      this.xmax = this.data[this.data.length - 1].x;\n      this.events = [];\n      if (this.options.events.length > 0) {\n        if (this.options.parseTime) {\n          _ref = this.options.events;\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            e = _ref[_i];\n            if (e instanceof Array) {\n              from = e[0], to = e[1];\n              this.events.push([Morris.parseDate(from), Morris.parseDate(to)]);\n            } else {\n              this.events.push(Morris.parseDate(e));\n            }\n          }\n        } else {\n          this.events = this.options.events;\n        }\n        flatEvents = $.map(this.events, function(e) {\n          return e;\n        });\n        this.xmax = Math.max(this.xmax, Math.max.apply(Math, flatEvents));\n        this.xmin = Math.min(this.xmin, Math.min.apply(Math, flatEvents));\n      }\n      if (this.xmin === this.xmax) {\n        this.xmin -= 1;\n        this.xmax += 1;\n      }\n      this.ymin = this.yboundary('min', ymin);\n      this.ymax = this.yboundary('max', ymax);\n      if (this.ymin === this.ymax) {\n        if (ymin) {\n          this.ymin -= 1;\n        }\n        this.ymax += 1;\n      }\n      if (((_ref1 = this.options.axes) === true || _ref1 === 'both' || _ref1 === 'y') || this.options.grid === true) {\n        if (this.options.ymax === this.gridDefaults.ymax && this.options.ymin === this.gridDefaults.ymin) {\n          this.grid = this.autoGridLines(this.ymin, this.ymax, this.options.numLines);\n          this.ymin = Math.min(this.ymin, this.grid[0]);\n          this.ymax = Math.max(this.ymax, this.grid[this.grid.length - 1]);\n        } else {\n          step = (this.ymax - this.ymin) / (this.options.numLines - 1);\n          this.grid = (function() {\n            var _j, _ref2, _ref3, _results;\n            _results = [];\n            for (y = _j = _ref2 = this.ymin, _ref3 = this.ymax; step > 0 ? _j <= _ref3 : _j >= _ref3; y = _j += step) {\n              _results.push(y);\n            }\n            return _results;\n          }).call(this);\n        }\n      }\n      this.dirty = true;\n      if (redraw) {\n        return this.redraw();\n      }\n    };\n\n    Grid.prototype.yboundary = function(boundaryType, currentValue) {\n      var boundaryOption, suggestedValue;\n      boundaryOption = this.options[\"y\" + boundaryType];\n      if (typeof boundaryOption === 'string') {\n        if (boundaryOption.slice(0, 4) === 'auto') {\n          if (boundaryOption.length > 5) {\n            suggestedValue = parseInt(boundaryOption.slice(5), 10);\n            if (currentValue == null) {\n              return suggestedValue;\n            }\n            return Math[boundaryType](currentValue, suggestedValue);\n          } else {\n            if (currentValue != null) {\n              return currentValue;\n            } else {\n              return 0;\n            }\n          }\n        } else {\n          return parseInt(boundaryOption, 10);\n        }\n      } else {\n        return boundaryOption;\n      }\n    };\n\n    Grid.prototype.autoGridLines = function(ymin, ymax, nlines) {\n      var gmax, gmin, grid, smag, span, step, unit, y, ymag;\n      span = ymax - ymin;\n      ymag = Math.floor(Math.log(span) / Math.log(10));\n      unit = Math.pow(10, ymag);\n      gmin = Math.floor(ymin / unit) * unit;\n      gmax = Math.ceil(ymax / unit) * unit;\n      step = (gmax - gmin) / (nlines - 1);\n      if (unit === 1 && step > 1 && Math.ceil(step) !== step) {\n        step = Math.ceil(step);\n        gmax = gmin + step * (nlines - 1);\n      }\n      if (gmin < 0 && gmax > 0) {\n        gmin = Math.floor(ymin / step) * step;\n        gmax = Math.ceil(ymax / step) * step;\n      }\n      if (step < 1) {\n        smag = Math.floor(Math.log(step) / Math.log(10));\n        grid = (function() {\n          var _i, _results;\n          _results = [];\n          for (y = _i = gmin; step > 0 ? _i <= gmax : _i >= gmax; y = _i += step) {\n            _results.push(parseFloat(y.toFixed(1 - smag)));\n          }\n          return _results;\n        })();\n      } else {\n        grid = (function() {\n          var _i, _results;\n          _results = [];\n          for (y = _i = gmin; step > 0 ? _i <= gmax : _i >= gmax; y = _i += step) {\n            _results.push(y);\n          }\n          return _results;\n        })();\n      }\n      return grid;\n    };\n\n    Grid.prototype._calc = function() {\n      var angle, bottomOffsets, gridLine, h, i, w, yLabelWidths, _ref, _ref1;\n      w = this.el.width();\n      h = this.el.height();\n      if (this.elementWidth !== w || this.elementHeight !== h || this.dirty) {\n        this.elementWidth = w;\n        this.elementHeight = h;\n        this.dirty = false;\n        this.left = this.options.padding;\n        this.right = this.elementWidth - this.options.padding;\n        this.top = this.options.padding;\n        this.bottom = this.elementHeight - this.options.padding;\n        if ((_ref = this.options.axes) === true || _ref === 'both' || _ref === 'y') {\n          yLabelWidths = (function() {\n            var _i, _len, _ref1, _results;\n            _ref1 = this.grid;\n            _results = [];\n            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n              gridLine = _ref1[_i];\n              _results.push(this.measureText(this.yAxisFormat(gridLine)).width);\n            }\n            return _results;\n          }).call(this);\n          if (!this.options.horizontal) {\n            this.left += Math.max.apply(Math, yLabelWidths);\n          } else {\n            this.bottom -= Math.max.apply(Math, yLabelWidths);\n          }\n        }\n        if ((_ref1 = this.options.axes) === true || _ref1 === 'both' || _ref1 === 'x') {\n          if (!this.options.horizontal) {\n            angle = -this.options.xLabelAngle;\n          } else {\n            angle = -90;\n          }\n          bottomOffsets = (function() {\n            var _i, _ref2, _results;\n            _results = [];\n            for (i = _i = 0, _ref2 = this.data.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {\n              _results.push(this.measureText(this.data[i].label, angle).height);\n            }\n            return _results;\n          }).call(this);\n          if (!this.options.horizontal) {\n            this.bottom -= Math.max.apply(Math, bottomOffsets);\n          } else {\n            this.left += Math.max.apply(Math, bottomOffsets);\n          }\n        }\n        this.width = Math.max(1, this.right - this.left);\n        this.height = Math.max(1, this.bottom - this.top);\n        if (!this.options.horizontal) {\n          this.dx = this.width / (this.xmax - this.xmin);\n          this.dy = this.height / (this.ymax - this.ymin);\n          this.yStart = this.bottom;\n          this.yEnd = this.top;\n          this.xStart = this.left;\n          this.xEnd = this.right;\n          this.xSize = this.width;\n          this.ySize = this.height;\n        } else {\n          this.dx = this.height / (this.xmax - this.xmin);\n          this.dy = this.width / (this.ymax - this.ymin);\n          this.yStart = this.left;\n          this.yEnd = this.right;\n          this.xStart = this.top;\n          this.xEnd = this.bottom;\n          this.xSize = this.height;\n          this.ySize = this.width;\n        }\n        if (this.calc) {\n          return this.calc();\n        }\n      }\n    };\n\n    Grid.prototype.transY = function(y) {\n      if (!this.options.horizontal) {\n        return this.bottom - (y - this.ymin) * this.dy;\n      } else {\n        return this.left + (y - this.ymin) * this.dy;\n      }\n    };\n\n    Grid.prototype.transX = function(x) {\n      if (this.data.length === 1) {\n        return (this.xStart + this.xEnd) / 2;\n      } else {\n        return this.xStart + (x - this.xmin) * this.dx;\n      }\n    };\n\n    Grid.prototype.redraw = function() {\n      this.raphael.clear();\n      this._calc();\n      this.drawGrid();\n      this.drawGoals();\n      this.drawEvents();\n      if (this.draw) {\n        return this.draw();\n      }\n    };\n\n    Grid.prototype.measureText = function(text, angle) {\n      var ret, tt;\n      if (angle == null) {\n        angle = 0;\n      }\n      tt = this.raphael.text(100, 100, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).rotate(angle);\n      ret = tt.getBBox();\n      tt.remove();\n      return ret;\n    };\n\n    Grid.prototype.yAxisFormat = function(label) {\n      return this.yLabelFormat(label, 0);\n    };\n\n    Grid.prototype.yLabelFormat = function(label, i) {\n      if (typeof this.options.yLabelFormat === 'function') {\n        return this.options.yLabelFormat(label, i);\n      } else {\n        return \"\" + this.options.preUnits + (Morris.commas(label)) + this.options.postUnits;\n      }\n    };\n\n    Grid.prototype.getYAxisLabelX = function() {\n      return this.left - this.options.padding / 2;\n    };\n\n    Grid.prototype.drawGrid = function() {\n      var basePos, lineY, pos, _i, _len, _ref, _ref1, _ref2, _results;\n      if (this.options.grid === false && ((_ref = this.options.axes) !== true && _ref !== 'both' && _ref !== 'y')) {\n        return;\n      }\n      if (!this.options.horizontal) {\n        basePos = this.getYAxisLabelX();\n      } else {\n        basePos = this.getXAxisLabelY();\n      }\n      _ref1 = this.grid;\n      _results = [];\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        lineY = _ref1[_i];\n        pos = this.transY(lineY);\n        if ((_ref2 = this.options.axes) === true || _ref2 === 'both' || _ref2 === 'y') {\n          if (!this.options.horizontal) {\n            this.drawYAxisLabel(basePos, pos, this.yAxisFormat(lineY));\n          } else {\n            this.drawXAxisLabel(pos, basePos, this.yAxisFormat(lineY));\n          }\n        }\n        if (this.options.grid) {\n          pos = Math.floor(pos) + 0.5;\n          if (!this.options.horizontal) {\n            _results.push(this.drawGridLine(\"M\" + this.xStart + \",\" + pos + \"H\" + this.xEnd));\n          } else {\n            _results.push(this.drawGridLine(\"M\" + pos + \",\" + this.xStart + \"V\" + this.xEnd));\n          }\n        } else {\n          _results.push(void 0);\n        }\n      }\n      return _results;\n    };\n\n    Grid.prototype.drawGoals = function() {\n      var color, goal, i, _i, _len, _ref, _results;\n      _ref = this.options.goals;\n      _results = [];\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n        goal = _ref[i];\n        color = this.options.goalLineColors[i % this.options.goalLineColors.length];\n        _results.push(this.drawGoal(goal, color));\n      }\n      return _results;\n    };\n\n    Grid.prototype.drawEvents = function() {\n      var color, event, i, _i, _len, _ref, _results;\n      _ref = this.events;\n      _results = [];\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n        event = _ref[i];\n        color = this.options.eventLineColors[i % this.options.eventLineColors.length];\n        _results.push(this.drawEvent(event, color));\n      }\n      return _results;\n    };\n\n    Grid.prototype.drawGoal = function(goal, color) {\n      var path, y;\n      y = Math.floor(this.transY(goal)) + 0.5;\n      if (!this.options.horizontal) {\n        path = \"M\" + this.xStart + \",\" + y + \"H\" + this.xEnd;\n      } else {\n        path = \"M\" + y + \",\" + this.xStart + \"V\" + this.xEnd;\n      }\n      return this.raphael.path(path).attr('stroke', color).attr('stroke-width', this.options.goalStrokeWidth);\n    };\n\n    Grid.prototype.drawEvent = function(event, color) {\n      var from, path, to, x;\n      if (event instanceof Array) {\n        from = event[0], to = event[1];\n        from = Math.floor(this.transX(from)) + 0.5;\n        to = Math.floor(this.transX(to)) + 0.5;\n        if (!this.options.horizontal) {\n          return this.raphael.rect(from, this.yEnd, to - from, this.yStart - this.yEnd).attr({\n            fill: color,\n            stroke: false\n          }).toBack();\n        } else {\n          return this.raphael.rect(this.yStart, from, this.yEnd - this.yStart, to - from).attr({\n            fill: color,\n            stroke: false\n          }).toBack();\n        }\n      } else {\n        x = Math.floor(this.transX(event)) + 0.5;\n        if (!this.options.horizontal) {\n          path = \"M\" + x + \",\" + this.yStart + \"V\" + this.yEnd;\n        } else {\n          path = \"M\" + this.yStart + \",\" + x + \"H\" + this.yEnd;\n        }\n        return this.raphael.path(path).attr('stroke', color).attr('stroke-width', this.options.eventStrokeWidth);\n      }\n    };\n\n    Grid.prototype.drawYAxisLabel = function(xPos, yPos, text) {\n      return this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor).attr('text-anchor', 'end');\n    };\n\n    Grid.prototype.drawGridLine = function(path) {\n      return this.raphael.path(path).attr('stroke', this.options.gridLineColor).attr('stroke-width', this.options.gridStrokeWidth);\n    };\n\n    Grid.prototype.startRange = function(x) {\n      this.hover.hide();\n      this.selectFrom = x;\n      return this.selectionRect.attr({\n        x: x,\n        width: 0\n      }).show();\n    };\n\n    Grid.prototype.endRange = function(x) {\n      var end, start;\n      if (this.selectFrom) {\n        start = Math.min(this.selectFrom, x);\n        end = Math.max(this.selectFrom, x);\n        this.options.rangeSelect.call(this.el, {\n          start: this.data[this.hitTest(start)].x,\n          end: this.data[this.hitTest(end)].x\n        });\n        return this.selectFrom = null;\n      }\n    };\n\n    Grid.prototype.resizeHandler = function() {\n      this.timeoutId = null;\n      this.raphael.setSize(this.el.width(), this.el.height());\n      return this.redraw();\n    };\n\n    Grid.prototype.hasToShow = function(i) {\n      return this.options.shown === true || this.options.shown[i] === true;\n    };\n\n    return Grid;\n\n  })(Morris.EventEmitter);\n\n  Morris.parseDate = function(date) {\n    var isecs, m, msecs, n, o, offsetmins, p, q, r, ret, secs;\n    if (typeof date === 'number') {\n      return date;\n    }\n    m = date.match(/^(\\d+) Q(\\d)$/);\n    n = date.match(/^(\\d+)-(\\d+)$/);\n    o = date.match(/^(\\d+)-(\\d+)-(\\d+)$/);\n    p = date.match(/^(\\d+) W(\\d+)$/);\n    q = date.match(/^(\\d+)-(\\d+)-(\\d+)[ T](\\d+):(\\d+)(Z|([+-])(\\d\\d):?(\\d\\d))?$/);\n    r = date.match(/^(\\d+)-(\\d+)-(\\d+)[ T](\\d+):(\\d+):(\\d+(\\.\\d+)?)(Z|([+-])(\\d\\d):?(\\d\\d))?$/);\n    if (m) {\n      return new Date(parseInt(m[1], 10), parseInt(m[2], 10) * 3 - 1, 1).getTime();\n    } else if (n) {\n      return new Date(parseInt(n[1], 10), parseInt(n[2], 10) - 1, 1).getTime();\n    } else if (o) {\n      return new Date(parseInt(o[1], 10), parseInt(o[2], 10) - 1, parseInt(o[3], 10)).getTime();\n    } else if (p) {\n      ret = new Date(parseInt(p[1], 10), 0, 1);\n      if (ret.getDay() !== 4) {\n        ret.setMonth(0, 1 + ((4 - ret.getDay()) + 7) % 7);\n      }\n      return ret.getTime() + parseInt(p[2], 10) * 604800000;\n    } else if (q) {\n      if (!q[6]) {\n        return new Date(parseInt(q[1], 10), parseInt(q[2], 10) - 1, parseInt(q[3], 10), parseInt(q[4], 10), parseInt(q[5], 10)).getTime();\n      } else {\n        offsetmins = 0;\n        if (q[6] !== 'Z') {\n          offsetmins = parseInt(q[8], 10) * 60 + parseInt(q[9], 10);\n          if (q[7] === '+') {\n            offsetmins = 0 - offsetmins;\n          }\n        }\n        return Date.UTC(parseInt(q[1], 10), parseInt(q[2], 10) - 1, parseInt(q[3], 10), parseInt(q[4], 10), parseInt(q[5], 10) + offsetmins);\n      }\n    } else if (r) {\n      secs = parseFloat(r[6]);\n      isecs = Math.floor(secs);\n      msecs = Math.round((secs - isecs) * 1000);\n      if (!r[8]) {\n        return new Date(parseInt(r[1], 10), parseInt(r[2], 10) - 1, parseInt(r[3], 10), parseInt(r[4], 10), parseInt(r[5], 10), isecs, msecs).getTime();\n      } else {\n        offsetmins = 0;\n        if (r[8] !== 'Z') {\n          offsetmins = parseInt(r[10], 10) * 60 + parseInt(r[11], 10);\n          if (r[9] === '+') {\n            offsetmins = 0 - offsetmins;\n          }\n        }\n        return Date.UTC(parseInt(r[1], 10), parseInt(r[2], 10) - 1, parseInt(r[3], 10), parseInt(r[4], 10), parseInt(r[5], 10) + offsetmins, isecs, msecs);\n      }\n    } else {\n      return new Date(parseInt(date, 10), 0, 1).getTime();\n    }\n  };\n\n  Morris.Hover = (function() {\n    Hover.defaults = {\n      \"class\": 'morris-hover morris-default-style'\n    };\n\n    function Hover(options) {\n      if (options == null) {\n        options = {};\n      }\n      this.options = $.extend({}, Morris.Hover.defaults, options);\n      this.el = $(\"<div class='\" + this.options[\"class\"] + \"'></div>\");\n      this.el.hide();\n      this.options.parent.append(this.el);\n    }\n\n    Hover.prototype.update = function(html, x, y, centre_y) {\n      if (!html) {\n        return this.hide();\n      } else {\n        this.html(html);\n        this.show();\n        return this.moveTo(x, y, centre_y);\n      }\n    };\n\n    Hover.prototype.html = function(content) {\n      return this.el.html(content);\n    };\n\n    Hover.prototype.moveTo = function(x, y, centre_y) {\n      var hoverHeight, hoverWidth, left, parentHeight, parentWidth, top;\n      parentWidth = this.options.parent.innerWidth();\n      parentHeight = this.options.parent.innerHeight();\n      hoverWidth = this.el.outerWidth();\n      hoverHeight = this.el.outerHeight();\n      left = Math.min(Math.max(0, x - hoverWidth / 2), parentWidth - hoverWidth);\n      if (y != null) {\n        if (centre_y === true) {\n          top = y - hoverHeight / 2;\n          if (top < 0) {\n            top = 0;\n          }\n        } else {\n          top = y - hoverHeight - 10;\n          if (top < 0) {\n            top = y + 10;\n            if (top + hoverHeight > parentHeight) {\n              top = parentHeight / 2 - hoverHeight / 2;\n            }\n          }\n        }\n      } else {\n        top = parentHeight / 2 - hoverHeight / 2;\n      }\n      return this.el.css({\n        left: left + \"px\",\n        top: parseInt(top) + \"px\"\n      });\n    };\n\n    Hover.prototype.show = function() {\n      return this.el.show();\n    };\n\n    Hover.prototype.hide = function() {\n      return this.el.hide();\n    };\n\n    return Hover;\n\n  })();\n\n  Morris.Line = (function(_super) {\n    __extends(Line, _super);\n\n    function Line(options) {\n      this.hilight = __bind(this.hilight, this);\n      this.onHoverOut = __bind(this.onHoverOut, this);\n      this.onHoverMove = __bind(this.onHoverMove, this);\n      this.onGridClick = __bind(this.onGridClick, this);\n      if (!(this instanceof Morris.Line)) {\n        return new Morris.Line(options);\n      }\n      Line.__super__.constructor.call(this, options);\n    }\n\n    Line.prototype.init = function() {\n      if (this.options.hideHover !== 'always') {\n        this.hover = new Morris.Hover({\n          parent: this.el\n        });\n        this.on('hovermove', this.onHoverMove);\n        this.on('hoverout', this.onHoverOut);\n        return this.on('gridclick', this.onGridClick);\n      }\n    };\n\n    Line.prototype.defaults = {\n      lineWidth: 3,\n      pointSize: 4,\n      lineColors: ['#0b62a4', '#7A92A3', '#4da74d', '#afd8f8', '#edc240', '#cb4b4b', '#9440ed'],\n      pointStrokeWidths: [1],\n      pointStrokeColors: ['#ffffff'],\n      pointFillColors: [],\n      smooth: true,\n      shown: true,\n      xLabels: 'auto',\n      xLabelFormat: null,\n      xLabelMargin: 24,\n      hideHover: false,\n      trendLine: false,\n      trendLineWidth: 2,\n      trendLineColors: ['#689bc3', '#a2b3bf', '#64b764']\n    };\n\n    Line.prototype.calc = function() {\n      this.calcPoints();\n      return this.generatePaths();\n    };\n\n    Line.prototype.calcPoints = function() {\n      var row, y, _i, _len, _ref, _results;\n      _ref = this.data;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        row = _ref[_i];\n        row._x = this.transX(row.x);\n        row._y = (function() {\n          var _j, _len1, _ref1, _results1;\n          _ref1 = row.y;\n          _results1 = [];\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            y = _ref1[_j];\n            if (y != null) {\n              _results1.push(this.transY(y));\n            } else {\n              _results1.push(y);\n            }\n          }\n          return _results1;\n        }).call(this);\n        _results.push(row._ymax = Math.min.apply(Math, [this.bottom].concat((function() {\n          var _j, _len1, _ref1, _results1;\n          _ref1 = row._y;\n          _results1 = [];\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            y = _ref1[_j];\n            if (y != null) {\n              _results1.push(y);\n            }\n          }\n          return _results1;\n        })())));\n      }\n      return _results;\n    };\n\n    Line.prototype.hitTest = function(x) {\n      var index, r, _i, _len, _ref;\n      if (this.data.length === 0) {\n        return null;\n      }\n      _ref = this.data.slice(1);\n      for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {\n        r = _ref[index];\n        if (x < (r._x + this.data[index]._x) / 2) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    Line.prototype.onGridClick = function(x, y) {\n      var index;\n      index = this.hitTest(x);\n      return this.fire('click', index, this.data[index].src, x, y);\n    };\n\n    Line.prototype.onHoverMove = function(x, y) {\n      var index;\n      index = this.hitTest(x);\n      return this.displayHoverForRow(index);\n    };\n\n    Line.prototype.onHoverOut = function() {\n      if (this.options.hideHover !== false) {\n        return this.displayHoverForRow(null);\n      }\n    };\n\n    Line.prototype.displayHoverForRow = function(index) {\n      var _ref;\n      if (index != null) {\n        (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(index));\n        return this.hilight(index);\n      } else {\n        this.hover.hide();\n        return this.hilight();\n      }\n    };\n\n    Line.prototype.hoverContentForRow = function(index) {\n      var content, j, row, y, _i, _len, _ref;\n      row = this.data[index];\n      content = $(\"<div class='morris-hover-row-label'>\").text(row.label);\n      content = content.prop('outerHTML');\n      _ref = row.y;\n      for (j = _i = 0, _len = _ref.length; _i < _len; j = ++_i) {\n        y = _ref[j];\n        if (this.options.labels[j] === false) {\n          continue;\n        }\n        content += \"<div class='morris-hover-point' style='color: \" + (this.colorFor(row, j, 'label')) + \"'>\\n  \" + this.options.labels[j] + \":\\n  \" + (this.yLabelFormat(y, j)) + \"\\n</div>\";\n      }\n      if (typeof this.options.hoverCallback === 'function') {\n        content = this.options.hoverCallback(index, this.options, content, row.src);\n      }\n      return [content, row._x, row._ymax];\n    };\n\n    Line.prototype.generatePaths = function() {\n      var coords, i, r, smooth;\n      return this.paths = (function() {\n        var _i, _ref, _ref1, _results;\n        _results = [];\n        for (i = _i = 0, _ref = this.options.ykeys.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n          smooth = typeof this.options.smooth === \"boolean\" ? this.options.smooth : (_ref1 = this.options.ykeys[i], __indexOf.call(this.options.smooth, _ref1) >= 0);\n          coords = (function() {\n            var _j, _len, _ref2, _results1;\n            _ref2 = this.data;\n            _results1 = [];\n            for (_j = 0, _len = _ref2.length; _j < _len; _j++) {\n              r = _ref2[_j];\n              if (r._y[i] !== void 0) {\n                _results1.push({\n                  x: r._x,\n                  y: r._y[i]\n                });\n              }\n            }\n            return _results1;\n          }).call(this);\n          if (coords.length > 1) {\n            _results.push(Morris.Line.createPath(coords, smooth, this.bottom));\n          } else {\n            _results.push(null);\n          }\n        }\n        return _results;\n      }).call(this);\n    };\n\n    Line.prototype.draw = function() {\n      var _ref;\n      if ((_ref = this.options.axes) === true || _ref === 'both' || _ref === 'x') {\n        this.drawXAxis();\n      }\n      this.drawSeries();\n      if (this.options.hideHover === false) {\n        return this.displayHoverForRow(this.data.length - 1);\n      }\n    };\n\n    Line.prototype.drawXAxis = function() {\n      var drawLabel, l, labels, prevAngleMargin, prevLabelMargin, row, ypos, _i, _len, _results,\n        _this = this;\n      ypos = this.bottom + this.options.padding / 2;\n      prevLabelMargin = null;\n      prevAngleMargin = null;\n      drawLabel = function(labelText, xpos) {\n        var label, labelBox, margin, offset, textBox;\n        label = _this.drawXAxisLabel(_this.transX(xpos), ypos, labelText);\n        textBox = label.getBBox();\n        label.transform(\"r\" + (-_this.options.xLabelAngle));\n        labelBox = label.getBBox();\n        label.transform(\"t0,\" + (labelBox.height / 2) + \"...\");\n        if (_this.options.xLabelAngle !== 0) {\n          offset = -0.5 * textBox.width * Math.cos(_this.options.xLabelAngle * Math.PI / 180.0);\n          label.transform(\"t\" + offset + \",0...\");\n        }\n        labelBox = label.getBBox();\n        if (((prevLabelMargin == null) || prevLabelMargin >= labelBox.x + labelBox.width || (prevAngleMargin != null) && prevAngleMargin >= labelBox.x) && labelBox.x >= 0 && (labelBox.x + labelBox.width) < _this.el.width()) {\n          if (_this.options.xLabelAngle !== 0) {\n            margin = 1.25 * _this.options.gridTextSize / Math.sin(_this.options.xLabelAngle * Math.PI / 180.0);\n            prevAngleMargin = labelBox.x - margin;\n          }\n          return prevLabelMargin = labelBox.x - _this.options.xLabelMargin;\n        } else {\n          return label.remove();\n        }\n      };\n      if (this.options.parseTime) {\n        if (this.data.length === 1 && this.options.xLabels === 'auto') {\n          labels = [[this.data[0].label, this.data[0].x]];\n        } else {\n          labels = Morris.labelSeries(this.xmin, this.xmax, this.width, this.options.xLabels, this.options.xLabelFormat);\n        }\n      } else {\n        labels = (function() {\n          var _i, _len, _ref, _results;\n          _ref = this.data;\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            row = _ref[_i];\n            _results.push([row.label, row.x]);\n          }\n          return _results;\n        }).call(this);\n      }\n      labels.reverse();\n      _results = [];\n      for (_i = 0, _len = labels.length; _i < _len; _i++) {\n        l = labels[_i];\n        _results.push(drawLabel(l[0], l[1]));\n      }\n      return _results;\n    };\n\n    Line.prototype.drawSeries = function() {\n      var i, _i, _j, _ref, _ref1, _results;\n      this.seriesPoints = [];\n      for (i = _i = _ref = this.options.ykeys.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) {\n        if (this.hasToShow(i)) {\n          if (this.options.trendLine !== false && this.options.trendLine === true || this.options.trendLine[i] === true) {\n            this._drawTrendLine(i);\n          }\n          this._drawLineFor(i);\n        }\n      }\n      _results = [];\n      for (i = _j = _ref1 = this.options.ykeys.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; i = _ref1 <= 0 ? ++_j : --_j) {\n        if (this.hasToShow(i)) {\n          _results.push(this._drawPointFor(i));\n        } else {\n          _results.push(void 0);\n        }\n      }\n      return _results;\n    };\n\n    Line.prototype._drawPointFor = function(index) {\n      var circle, row, _i, _len, _ref, _results;\n      this.seriesPoints[index] = [];\n      _ref = this.data;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        row = _ref[_i];\n        circle = null;\n        if (row._y[index] != null) {\n          circle = this.drawLinePoint(row._x, row._y[index], this.colorFor(row, index, 'point'), index);\n        }\n        _results.push(this.seriesPoints[index].push(circle));\n      }\n      return _results;\n    };\n\n    Line.prototype._drawLineFor = function(index) {\n      var path;\n      path = this.paths[index];\n      if (path !== null) {\n        return this.drawLinePath(path, this.colorFor(null, index, 'line'), index);\n      }\n    };\n\n    Line.prototype._drawTrendLine = function(index) {\n      var a, b, data, datapoints, path, sum_x, sum_xx, sum_xy, sum_y, val, x, y, _i, _len, _ref;\n      sum_x = 0;\n      sum_y = 0;\n      sum_xx = 0;\n      sum_xy = 0;\n      datapoints = 0;\n      _ref = this.data;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        val = _ref[_i];\n        x = val.x;\n        y = val.y[index];\n        if (y === void 0) {\n          continue;\n        }\n        datapoints += 1;\n        sum_x += x;\n        sum_y += y;\n        sum_xx += x * x;\n        sum_xy += x * y;\n      }\n      a = (datapoints * sum_xy - sum_x * sum_y) / (datapoints * sum_xx - sum_x * sum_x);\n      b = (sum_y / datapoints) - ((a * sum_x) / datapoints);\n      data = [{}, {}];\n      data[0].x = this.transX(this.data[0].x);\n      data[0].y = this.transY(this.data[0].x * a + b);\n      data[1].x = this.transX(this.data[this.data.length - 1].x);\n      data[1].y = this.transY(this.data[this.data.length - 1].x * a + b);\n      path = Morris.Line.createPath(data, false, this.bottom);\n      return path = this.raphael.path(path).attr('stroke', this.colorFor(null, index, 'trendLine')).attr('stroke-width', this.options.trendLineWidth);\n    };\n\n    Line.createPath = function(coords, smooth, bottom) {\n      var coord, g, grads, i, ix, lg, path, prevCoord, x1, x2, y1, y2, _i, _len;\n      path = \"\";\n      if (smooth) {\n        grads = Morris.Line.gradients(coords);\n      }\n      prevCoord = {\n        y: null\n      };\n      for (i = _i = 0, _len = coords.length; _i < _len; i = ++_i) {\n        coord = coords[i];\n        if (coord.y != null) {\n          if (prevCoord.y != null) {\n            if (smooth) {\n              g = grads[i];\n              lg = grads[i - 1];\n              ix = (coord.x - prevCoord.x) / 4;\n              x1 = prevCoord.x + ix;\n              y1 = Math.min(bottom, prevCoord.y + ix * lg);\n              x2 = coord.x - ix;\n              y2 = Math.min(bottom, coord.y - ix * g);\n              path += \"C\" + x1 + \",\" + y1 + \",\" + x2 + \",\" + y2 + \",\" + coord.x + \",\" + coord.y;\n            } else {\n              path += \"L\" + coord.x + \",\" + coord.y;\n            }\n          } else {\n            if (!smooth || (grads[i] != null)) {\n              path += \"M\" + coord.x + \",\" + coord.y;\n            }\n          }\n        }\n        prevCoord = coord;\n      }\n      return path;\n    };\n\n    Line.gradients = function(coords) {\n      var coord, grad, i, nextCoord, prevCoord, _i, _len, _results;\n      grad = function(a, b) {\n        return (a.y - b.y) / (a.x - b.x);\n      };\n      _results = [];\n      for (i = _i = 0, _len = coords.length; _i < _len; i = ++_i) {\n        coord = coords[i];\n        if (coord.y != null) {\n          nextCoord = coords[i + 1] || {\n            y: null\n          };\n          prevCoord = coords[i - 1] || {\n            y: null\n          };\n          if ((prevCoord.y != null) && (nextCoord.y != null)) {\n            _results.push(grad(prevCoord, nextCoord));\n          } else if (prevCoord.y != null) {\n            _results.push(grad(prevCoord, coord));\n          } else if (nextCoord.y != null) {\n            _results.push(grad(coord, nextCoord));\n          } else {\n            _results.push(null);\n          }\n        } else {\n          _results.push(null);\n        }\n      }\n      return _results;\n    };\n\n    Line.prototype.hilight = function(index) {\n      var i, _i, _j, _ref, _ref1;\n      if (this.prevHilight !== null && this.prevHilight !== index) {\n        for (i = _i = 0, _ref = this.seriesPoints.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {\n          if (this.seriesPoints[i][this.prevHilight]) {\n            this.seriesPoints[i][this.prevHilight].animate(this.pointShrinkSeries(i));\n          }\n        }\n      }\n      if (index !== null && this.prevHilight !== index) {\n        for (i = _j = 0, _ref1 = this.seriesPoints.length - 1; 0 <= _ref1 ? _j <= _ref1 : _j >= _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n          if (this.seriesPoints[i][index]) {\n            this.seriesPoints[i][index].animate(this.pointGrowSeries(i));\n          }\n        }\n      }\n      return this.prevHilight = index;\n    };\n\n    Line.prototype.colorFor = function(row, sidx, type) {\n      if (typeof this.options.lineColors === 'function') {\n        return this.options.lineColors.call(this, row, sidx, type);\n      } else if (type === 'point') {\n        return this.options.pointFillColors[sidx % this.options.pointFillColors.length] || this.options.lineColors[sidx % this.options.lineColors.length];\n      } else if (type === 'line') {\n        return this.options.lineColors[sidx % this.options.lineColors.length];\n      } else {\n        return this.options.trendLineColors[sidx % this.options.trendLineColors.length];\n      }\n    };\n\n    Line.prototype.drawXAxisLabel = function(xPos, yPos, text) {\n      return this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor);\n    };\n\n    Line.prototype.drawLinePath = function(path, lineColor, lineIndex) {\n      return this.raphael.path(path).attr('stroke', lineColor).attr('stroke-width', this.lineWidthForSeries(lineIndex));\n    };\n\n    Line.prototype.drawLinePoint = function(xPos, yPos, pointColor, lineIndex) {\n      return this.raphael.circle(xPos, yPos, this.pointSizeForSeries(lineIndex)).attr('fill', pointColor).attr('stroke-width', this.pointStrokeWidthForSeries(lineIndex)).attr('stroke', this.pointStrokeColorForSeries(lineIndex));\n    };\n\n    Line.prototype.pointStrokeWidthForSeries = function(index) {\n      return this.options.pointStrokeWidths[index % this.options.pointStrokeWidths.length];\n    };\n\n    Line.prototype.pointStrokeColorForSeries = function(index) {\n      return this.options.pointStrokeColors[index % this.options.pointStrokeColors.length];\n    };\n\n    Line.prototype.lineWidthForSeries = function(index) {\n      if (this.options.lineWidth instanceof Array) {\n        return this.options.lineWidth[index % this.options.lineWidth.length];\n      } else {\n        return this.options.lineWidth;\n      }\n    };\n\n    Line.prototype.pointSizeForSeries = function(index) {\n      if (this.options.pointSize instanceof Array) {\n        return this.options.pointSize[index % this.options.pointSize.length];\n      } else {\n        return this.options.pointSize;\n      }\n    };\n\n    Line.prototype.pointGrowSeries = function(index) {\n      if (this.pointSizeForSeries(index) === 0) {\n        return;\n      }\n      return Raphael.animation({\n        r: this.pointSizeForSeries(index) + 3\n      }, 25, 'linear');\n    };\n\n    Line.prototype.pointShrinkSeries = function(index) {\n      return Raphael.animation({\n        r: this.pointSizeForSeries(index)\n      }, 25, 'linear');\n    };\n\n    return Line;\n\n  })(Morris.Grid);\n\n  Morris.labelSeries = function(dmin, dmax, pxwidth, specName, xLabelFormat) {\n    var d, d0, ddensity, name, ret, s, spec, t, _i, _len, _ref;\n    ddensity = 200 * (dmax - dmin) / pxwidth;\n    d0 = new Date(dmin);\n    spec = Morris.LABEL_SPECS[specName];\n    if (spec === void 0) {\n      _ref = Morris.AUTO_LABEL_ORDER;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        name = _ref[_i];\n        s = Morris.LABEL_SPECS[name];\n        if (ddensity >= s.span) {\n          spec = s;\n          break;\n        }\n      }\n    }\n    if (spec === void 0) {\n      spec = Morris.LABEL_SPECS[\"second\"];\n    }\n    if (xLabelFormat) {\n      spec = $.extend({}, spec, {\n        fmt: xLabelFormat\n      });\n    }\n    d = spec.start(d0);\n    ret = [];\n    while ((t = d.getTime()) <= dmax) {\n      if (t >= dmin) {\n        ret.push([spec.fmt(d), t]);\n      }\n      spec.incr(d);\n    }\n    return ret;\n  };\n\n  minutesSpecHelper = function(interval) {\n    return {\n      span: interval * 60 * 1000,\n      start: function(d) {\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours());\n      },\n      fmt: function(d) {\n        return \"\" + (Morris.pad2(d.getHours())) + \":\" + (Morris.pad2(d.getMinutes()));\n      },\n      incr: function(d) {\n        return d.setUTCMinutes(d.getUTCMinutes() + interval);\n      }\n    };\n  };\n\n  secondsSpecHelper = function(interval) {\n    return {\n      span: interval * 1000,\n      start: function(d) {\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes());\n      },\n      fmt: function(d) {\n        return \"\" + (Morris.pad2(d.getHours())) + \":\" + (Morris.pad2(d.getMinutes())) + \":\" + (Morris.pad2(d.getSeconds()));\n      },\n      incr: function(d) {\n        return d.setUTCSeconds(d.getUTCSeconds() + interval);\n      }\n    };\n  };\n\n  Morris.LABEL_SPECS = {\n    \"decade\": {\n      span: 172800000000,\n      start: function(d) {\n        return new Date(d.getFullYear() - d.getFullYear() % 10, 0, 1);\n      },\n      fmt: function(d) {\n        return \"\" + (d.getFullYear());\n      },\n      incr: function(d) {\n        return d.setFullYear(d.getFullYear() + 10);\n      }\n    },\n    \"year\": {\n      span: 17280000000,\n      start: function(d) {\n        return new Date(d.getFullYear(), 0, 1);\n      },\n      fmt: function(d) {\n        return \"\" + (d.getFullYear());\n      },\n      incr: function(d) {\n        return d.setFullYear(d.getFullYear() + 1);\n      }\n    },\n    \"month\": {\n      span: 2419200000,\n      start: function(d) {\n        return new Date(d.getFullYear(), d.getMonth(), 1);\n      },\n      fmt: function(d) {\n        return \"\" + (d.getFullYear()) + \"-\" + (Morris.pad2(d.getMonth() + 1));\n      },\n      incr: function(d) {\n        return d.setMonth(d.getMonth() + 1);\n      }\n    },\n    \"week\": {\n      span: 604800000,\n      start: function(d) {\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      },\n      fmt: function(d) {\n        return \"\" + (d.getFullYear()) + \"-\" + (Morris.pad2(d.getMonth() + 1)) + \"-\" + (Morris.pad2(d.getDate()));\n      },\n      incr: function(d) {\n        return d.setDate(d.getDate() + 7);\n      }\n    },\n    \"day\": {\n      span: 86400000,\n      start: function(d) {\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      },\n      fmt: function(d) {\n        return \"\" + (d.getFullYear()) + \"-\" + (Morris.pad2(d.getMonth() + 1)) + \"-\" + (Morris.pad2(d.getDate()));\n      },\n      incr: function(d) {\n        return d.setDate(d.getDate() + 1);\n      }\n    },\n    \"hour\": minutesSpecHelper(60),\n    \"30min\": minutesSpecHelper(30),\n    \"15min\": minutesSpecHelper(15),\n    \"10min\": minutesSpecHelper(10),\n    \"5min\": minutesSpecHelper(5),\n    \"minute\": minutesSpecHelper(1),\n    \"30sec\": secondsSpecHelper(30),\n    \"15sec\": secondsSpecHelper(15),\n    \"10sec\": secondsSpecHelper(10),\n    \"5sec\": secondsSpecHelper(5),\n    \"second\": secondsSpecHelper(1)\n  };\n\n  Morris.AUTO_LABEL_ORDER = [\"decade\", \"year\", \"month\", \"week\", \"day\", \"hour\", \"30min\", \"15min\", \"10min\", \"5min\", \"minute\", \"30sec\", \"15sec\", \"10sec\", \"5sec\", \"second\"];\n\n  Morris.Area = (function(_super) {\n    var areaDefaults;\n\n    __extends(Area, _super);\n\n    areaDefaults = {\n      fillOpacity: 'auto',\n      behaveLikeLine: false\n    };\n\n    function Area(options) {\n      var areaOptions;\n      if (!(this instanceof Morris.Area)) {\n        return new Morris.Area(options);\n      }\n      areaOptions = $.extend({}, areaDefaults, options);\n      this.cumulative = !areaOptions.behaveLikeLine;\n      if (areaOptions.fillOpacity === 'auto') {\n        areaOptions.fillOpacity = areaOptions.behaveLikeLine ? .8 : 1;\n      }\n      Area.__super__.constructor.call(this, areaOptions);\n    }\n\n    Area.prototype.calcPoints = function() {\n      var row, total, y, _i, _len, _ref, _results;\n      _ref = this.data;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        row = _ref[_i];\n        row._x = this.transX(row.x);\n        total = 0;\n        row._y = (function() {\n          var _j, _len1, _ref1, _results1;\n          _ref1 = row.y;\n          _results1 = [];\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            y = _ref1[_j];\n            if (this.options.behaveLikeLine) {\n              _results1.push(this.transY(y));\n            } else {\n              total += y || 0;\n              _results1.push(this.transY(total));\n            }\n          }\n          return _results1;\n        }).call(this);\n        _results.push(row._ymax = Math.max.apply(Math, row._y));\n      }\n      return _results;\n    };\n\n    Area.prototype.drawSeries = function() {\n      var i, range, _i, _j, _k, _len, _ref, _ref1, _results, _results1, _results2;\n      this.seriesPoints = [];\n      if (this.options.behaveLikeLine) {\n        range = (function() {\n          _results = [];\n          for (var _i = 0, _ref = this.options.ykeys.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; 0 <= _ref ? _i++ : _i--){ _results.push(_i); }\n          return _results;\n        }).apply(this);\n      } else {\n        range = (function() {\n          _results1 = [];\n          for (var _j = _ref1 = this.options.ykeys.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; _ref1 <= 0 ? _j++ : _j--){ _results1.push(_j); }\n          return _results1;\n        }).apply(this);\n      }\n      _results2 = [];\n      for (_k = 0, _len = range.length; _k < _len; _k++) {\n        i = range[_k];\n        this._drawFillFor(i);\n        this._drawLineFor(i);\n        _results2.push(this._drawPointFor(i));\n      }\n      return _results2;\n    };\n\n    Area.prototype._drawFillFor = function(index) {\n      var path;\n      path = this.paths[index];\n      if (path !== null) {\n        path = path + (\"L\" + (this.transX(this.xmax)) + \",\" + this.bottom + \"L\" + (this.transX(this.xmin)) + \",\" + this.bottom + \"Z\");\n        return this.drawFilledPath(path, this.fillForSeries(index));\n      }\n    };\n\n    Area.prototype.fillForSeries = function(i) {\n      var color;\n      color = Raphael.rgb2hsl(this.colorFor(this.data[i], i, 'line'));\n      return Raphael.hsl(color.h, this.options.behaveLikeLine ? color.s * 0.9 : color.s * 0.75, Math.min(0.98, this.options.behaveLikeLine ? color.l * 1.2 : color.l * 1.25));\n    };\n\n    Area.prototype.drawFilledPath = function(path, fill) {\n      return this.raphael.path(path).attr('fill', fill).attr('fill-opacity', this.options.fillOpacity).attr('stroke', 'none');\n    };\n\n    return Area;\n\n  })(Morris.Line);\n\n  Morris.Bar = (function(_super) {\n    __extends(Bar, _super);\n\n    function Bar(options) {\n      this.onHoverOut = __bind(this.onHoverOut, this);\n      this.onHoverMove = __bind(this.onHoverMove, this);\n      this.onGridClick = __bind(this.onGridClick, this);\n      if (!(this instanceof Morris.Bar)) {\n        return new Morris.Bar(options);\n      }\n      Bar.__super__.constructor.call(this, $.extend({}, options, {\n        parseTime: false\n      }));\n    }\n\n    Bar.prototype.init = function() {\n      this.cumulative = this.options.stacked;\n      if (this.options.hideHover !== 'always') {\n        this.hover = new Morris.Hover({\n          parent: this.el\n        });\n        this.on('hovermove', this.onHoverMove);\n        this.on('hoverout', this.onHoverOut);\n        return this.on('gridclick', this.onGridClick);\n      }\n    };\n\n    Bar.prototype.defaults = {\n      barSizeRatio: 0.75,\n      barGap: 3,\n      barColors: ['#0b62a4', '#7a92a3', '#4da74d', '#afd8f8', '#edc240', '#cb4b4b', '#9440ed'],\n      barOpacity: 1.0,\n      barRadius: [0, 0, 0, 0],\n      xLabelMargin: 50,\n      horizontal: false,\n      shown: true\n    };\n\n    Bar.prototype.calc = function() {\n      var _ref;\n      this.calcBars();\n      if (this.options.hideHover === false) {\n        return (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(this.data.length - 1));\n      }\n    };\n\n    Bar.prototype.calcBars = function() {\n      var idx, row, y, _i, _len, _ref, _results;\n      _ref = this.data;\n      _results = [];\n      for (idx = _i = 0, _len = _ref.length; _i < _len; idx = ++_i) {\n        row = _ref[idx];\n        row._x = this.xStart + this.xSize * (idx + 0.5) / this.data.length;\n        _results.push(row._y = (function() {\n          var _j, _len1, _ref1, _results1;\n          _ref1 = row.y;\n          _results1 = [];\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            y = _ref1[_j];\n            if (y != null) {\n              _results1.push(this.transY(y));\n            } else {\n              _results1.push(null);\n            }\n          }\n          return _results1;\n        }).call(this));\n      }\n      return _results;\n    };\n\n    Bar.prototype.draw = function() {\n      var _ref;\n      if ((_ref = this.options.axes) === true || _ref === 'both' || _ref === 'x') {\n        this.drawXAxis();\n      }\n      return this.drawSeries();\n    };\n\n    Bar.prototype.drawXAxis = function() {\n      var angle, basePos, i, label, labelBox, margin, maxSize, offset, prevAngleMargin, prevLabelMargin, row, size, startPos, textBox, _i, _ref, _results;\n      if (!this.options.horizontal) {\n        basePos = this.getXAxisLabelY();\n      } else {\n        basePos = this.getYAxisLabelX();\n      }\n      prevLabelMargin = null;\n      prevAngleMargin = null;\n      _results = [];\n      for (i = _i = 0, _ref = this.data.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n        row = this.data[this.data.length - 1 - i];\n        if (!this.options.horizontal) {\n          label = this.drawXAxisLabel(row._x, basePos, row.label);\n        } else {\n          label = this.drawYAxisLabel(basePos, row._x - 0.5 * this.options.gridTextSize, row.label);\n        }\n        if (!this.options.horizontal) {\n          angle = this.options.xLabelAngle;\n        } else {\n          angle = 0;\n        }\n        textBox = label.getBBox();\n        label.transform(\"r\" + (-angle));\n        labelBox = label.getBBox();\n        label.transform(\"t0,\" + (labelBox.height / 2) + \"...\");\n        if (angle !== 0) {\n          offset = -0.5 * textBox.width * Math.cos(angle * Math.PI / 180.0);\n          label.transform(\"t\" + offset + \",0...\");\n        }\n        if (!this.options.horizontal) {\n          startPos = labelBox.x;\n          size = labelBox.width;\n          maxSize = this.el.width();\n        } else {\n          startPos = labelBox.y;\n          size = labelBox.height;\n          maxSize = this.el.height();\n        }\n        if (((prevLabelMargin == null) || prevLabelMargin >= startPos + size || (prevAngleMargin != null) && prevAngleMargin >= startPos) && startPos >= 0 && (startPos + size) < maxSize) {\n          if (angle !== 0) {\n            margin = 1.25 * this.options.gridTextSize / Math.sin(angle * Math.PI / 180.0);\n            prevAngleMargin = startPos - margin;\n          }\n          if (!this.options.horizontal) {\n            _results.push(prevLabelMargin = startPos - this.options.xLabelMargin);\n          } else {\n            _results.push(prevLabelMargin = startPos);\n          }\n        } else {\n          _results.push(label.remove());\n        }\n      }\n      return _results;\n    };\n\n    Bar.prototype.getXAxisLabelY = function() {\n      return this.bottom + (this.options.xAxisLabelTopPadding || this.options.padding / 2);\n    };\n\n    Bar.prototype.drawSeries = function() {\n      var barWidth, bottom, groupWidth, i, idx, lastTop, left, leftPadding, numBars, row, sidx, size, spaceLeft, top, ypos, zeroPos, _i, _ref;\n      groupWidth = this.xSize / this.options.data.length;\n      if (this.options.stacked) {\n        numBars = 1;\n      } else {\n        numBars = 0;\n        for (i = _i = 0, _ref = this.options.ykeys.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {\n          if (this.hasToShow(i)) {\n            numBars += 1;\n          }\n        }\n      }\n      barWidth = (groupWidth * this.options.barSizeRatio - this.options.barGap * (numBars - 1)) / numBars;\n      if (this.options.barSize) {\n        barWidth = Math.min(barWidth, this.options.barSize);\n      }\n      spaceLeft = groupWidth - barWidth * numBars - this.options.barGap * (numBars - 1);\n      leftPadding = spaceLeft / 2;\n      zeroPos = this.ymin <= 0 && this.ymax >= 0 ? this.transY(0) : null;\n      return this.bars = (function() {\n        var _j, _len, _ref1, _results;\n        _ref1 = this.data;\n        _results = [];\n        for (idx = _j = 0, _len = _ref1.length; _j < _len; idx = ++_j) {\n          row = _ref1[idx];\n          lastTop = 0;\n          _results.push((function() {\n            var _k, _len1, _ref2, _results1;\n            _ref2 = row._y;\n            _results1 = [];\n            for (sidx = _k = 0, _len1 = _ref2.length; _k < _len1; sidx = ++_k) {\n              ypos = _ref2[sidx];\n              if (!this.hasToShow(sidx)) {\n                continue;\n              }\n              if (ypos !== null) {\n                if (zeroPos) {\n                  top = Math.min(ypos, zeroPos);\n                  bottom = Math.max(ypos, zeroPos);\n                } else {\n                  top = ypos;\n                  bottom = this.bottom;\n                }\n                left = this.xStart + idx * groupWidth + leftPadding;\n                if (!this.options.stacked) {\n                  left += sidx * (barWidth + this.options.barGap);\n                }\n                size = bottom - top;\n                if (this.options.verticalGridCondition && this.options.verticalGridCondition(row.x)) {\n                  if (!this.options.horizontal) {\n                    this.drawBar(this.xStart + idx * groupWidth, this.yEnd, groupWidth, this.ySize, this.options.verticalGridColor, this.options.verticalGridOpacity, this.options.barRadius);\n                  } else {\n                    this.drawBar(this.yStart, this.xStart + idx * groupWidth, this.ySize, groupWidth, this.options.verticalGridColor, this.options.verticalGridOpacity, this.options.barRadius);\n                  }\n                }\n                if (this.options.stacked) {\n                  top -= lastTop;\n                }\n                if (!this.options.horizontal) {\n                  this.drawBar(left, top, barWidth, size, this.colorFor(row, sidx, 'bar'), this.options.barOpacity, this.options.barRadius);\n                  _results1.push(lastTop += size);\n                } else {\n                  this.drawBar(top, left, size, barWidth, this.colorFor(row, sidx, 'bar'), this.options.barOpacity, this.options.barRadius);\n                  _results1.push(lastTop -= size);\n                }\n              } else {\n                _results1.push(null);\n              }\n            }\n            return _results1;\n          }).call(this));\n        }\n        return _results;\n      }).call(this);\n    };\n\n    Bar.prototype.colorFor = function(row, sidx, type) {\n      var r, s;\n      if (typeof this.options.barColors === 'function') {\n        r = {\n          x: row.x,\n          y: row.y[sidx],\n          label: row.label\n        };\n        s = {\n          index: sidx,\n          key: this.options.ykeys[sidx],\n          label: this.options.labels[sidx]\n        };\n        return this.options.barColors.call(this, r, s, type);\n      } else {\n        return this.options.barColors[sidx % this.options.barColors.length];\n      }\n    };\n\n    Bar.prototype.hitTest = function(x, y) {\n      var pos;\n      if (this.data.length === 0) {\n        return null;\n      }\n      if (!this.options.horizontal) {\n        pos = x;\n      } else {\n        pos = y;\n      }\n      pos = Math.max(Math.min(pos, this.xEnd), this.xStart);\n      return Math.min(this.data.length - 1, Math.floor((pos - this.xStart) / (this.xSize / this.data.length)));\n    };\n\n    Bar.prototype.onGridClick = function(x, y) {\n      var index;\n      index = this.hitTest(x, y);\n      return this.fire('click', index, this.data[index].src, x, y);\n    };\n\n    Bar.prototype.onHoverMove = function(x, y) {\n      var index, _ref;\n      index = this.hitTest(x, y);\n      return (_ref = this.hover).update.apply(_ref, this.hoverContentForRow(index));\n    };\n\n    Bar.prototype.onHoverOut = function() {\n      if (this.options.hideHover !== false) {\n        return this.hover.hide();\n      }\n    };\n\n    Bar.prototype.hoverContentForRow = function(index) {\n      var content, j, row, x, y, _i, _len, _ref;\n      row = this.data[index];\n      content = $(\"<div class='morris-hover-row-label'>\").text(row.label);\n      content = content.prop('outerHTML');\n      _ref = row.y;\n      for (j = _i = 0, _len = _ref.length; _i < _len; j = ++_i) {\n        y = _ref[j];\n        if (this.options.labels[j] === false) {\n          continue;\n        }\n        content += \"<div class='morris-hover-point' style='color: \" + (this.colorFor(row, j, 'label')) + \"'>\\n  \" + this.options.labels[j] + \":\\n  \" + (this.yLabelFormat(y, j)) + \"\\n</div>\";\n      }\n      if (typeof this.options.hoverCallback === 'function') {\n        content = this.options.hoverCallback(index, this.options, content, row.src);\n      }\n      if (!this.options.horizontal) {\n        x = this.left + (index + 0.5) * this.width / this.data.length;\n        return [content, x];\n      } else {\n        x = this.left + 0.5 * this.width;\n        y = this.top + (index + 0.5) * this.height / this.data.length;\n        return [content, x, y, true];\n      }\n    };\n\n    Bar.prototype.drawXAxisLabel = function(xPos, yPos, text) {\n      var label;\n      return label = this.raphael.text(xPos, yPos, text).attr('font-size', this.options.gridTextSize).attr('font-family', this.options.gridTextFamily).attr('font-weight', this.options.gridTextWeight).attr('fill', this.options.gridTextColor);\n    };\n\n    Bar.prototype.drawBar = function(xPos, yPos, width, height, barColor, opacity, radiusArray) {\n      var maxRadius, path;\n      maxRadius = Math.max.apply(Math, radiusArray);\n      if (maxRadius === 0 || maxRadius > height) {\n        path = this.raphael.rect(xPos, yPos, width, height);\n      } else {\n        path = this.raphael.path(this.roundedRect(xPos, yPos, width, height, radiusArray));\n      }\n      return path.attr('fill', barColor).attr('fill-opacity', opacity).attr('stroke', 'none');\n    };\n\n    Bar.prototype.roundedRect = function(x, y, w, h, r) {\n      if (r == null) {\n        r = [0, 0, 0, 0];\n      }\n      return [\"M\", x, r[0] + y, \"Q\", x, y, x + r[0], y, \"L\", x + w - r[1], y, \"Q\", x + w, y, x + w, y + r[1], \"L\", x + w, y + h - r[2], \"Q\", x + w, y + h, x + w - r[2], y + h, \"L\", x + r[3], y + h, \"Q\", x, y + h, x, y + h - r[3], \"Z\"];\n    };\n\n    return Bar;\n\n  })(Morris.Grid);\n\n  Morris.Donut = (function(_super) {\n    __extends(Donut, _super);\n\n    Donut.prototype.defaults = {\n      colors: ['#0B62A4', '#3980B5', '#679DC6', '#95BBD7', '#B0CCE1', '#095791', '#095085', '#083E67', '#052C48', '#042135'],\n      backgroundColor: '#FFFFFF',\n      labelColor: '#000000',\n      formatter: Morris.commas,\n      showPercentage: false,\n      resize: false\n    };\n\n    function Donut(options) {\n      this.resizeHandler = __bind(this.resizeHandler, this);\n      this.select = __bind(this.select, this);\n      this.click = __bind(this.click, this);\n      var _this = this;\n      if (!(this instanceof Morris.Donut)) {\n        return new Morris.Donut(options);\n      }\n      this.options = $.extend({}, this.defaults, options);\n      if (typeof options.element === 'string') {\n        this.el = $(document.getElementById(options.element));\n      } else {\n        this.el = $(options.element);\n      }\n      if (this.el === null || this.el.length === 0) {\n        throw new Error(\"Graph placeholder not found.\");\n      }\n      if (options.data === void 0 || options.data.length === 0) {\n        return;\n      }\n      this.raphael = new Raphael(this.el[0]);\n      if (this.options.resize) {\n        $(window).bind('resize', function(evt) {\n          if (_this.timeoutId != null) {\n            clearTimeout(_this.timeoutId);\n          }\n          return _this.timeoutId = setTimeout(_this.resizeHandler, 100);\n        });\n      }\n      this.setData(options.data);\n    }\n\n    Donut.prototype.redraw = function() {\n      var C, cx, cy, i, idx, last, max_value, min, next, seg, total, value, w, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\n      this.raphael.clear();\n      cx = this.el.width() / 2;\n      cy = this.el.height() / 2;\n      w = (Math.min(cx, cy) - 10) / 3;\n      total = 0;\n      _ref = this.values;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        value = _ref[_i];\n        total += value;\n      }\n      min = 5 / (2 * w);\n      C = 1.9999 * Math.PI - min * this.data.length;\n      last = 0;\n      idx = 0;\n      this.segments = [];\n      _ref1 = this.values;\n      for (i = _j = 0, _len1 = _ref1.length; _j < _len1; i = ++_j) {\n        value = _ref1[i];\n        next = last + min + C * (value / total);\n        seg = new Morris.DonutSegment(cx, cy, w * 2, w, last, next, this.data[i].color || this.options.colors[idx % this.options.colors.length], this.options.backgroundColor, idx, this.raphael);\n        seg.render();\n        this.segments.push(seg);\n        seg.on('hover', this.select);\n        seg.on('click', this.click);\n        last = next;\n        idx += 1;\n      }\n      this.text1 = this.drawEmptyDonutLabel(cx, cy - 10, this.options.labelColor, 15, 800);\n      this.text2 = this.drawEmptyDonutLabel(cx, cy + 10, this.options.labelColor, 14);\n      max_value = Math.max.apply(Math, this.values);\n      idx = 0;\n      _ref2 = this.values;\n      _results = [];\n      for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n        value = _ref2[_k];\n        if (value === max_value) {\n          this.select(idx);\n          break;\n        }\n        _results.push(idx += 1);\n      }\n      return _results;\n    };\n\n    Donut.prototype.setData = function(data) {\n      var row;\n      this.data = data;\n      this.values = (function() {\n        var _i, _len, _ref, _results;\n        _ref = this.data;\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          row = _ref[_i];\n          _results.push(parseFloat(row.value));\n        }\n        return _results;\n      }).call(this);\n      return this.redraw();\n    };\n\n    Donut.prototype.click = function(idx) {\n      return this.fire('click', idx, this.data[idx]);\n    };\n\n    Donut.prototype.select = function(idx) {\n      let finalValue;\n      /*\n       * Deselects all when idx is not provided\n       * without triggering error\n       */\n      if (typeof idx === 'undefined') {\n        this.segments.forEach((segment) => {\n          segment.deselect();\n        });\n\n        return;\n      }\n      var row, s, segment, _i, _len, _ref;\n      _ref = this.segments;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        s = _ref[_i];\n        s.deselect();\n      }\n      segment = this.segments[idx];\n      segment.select();\n      row = this.data[idx];\n      finalValue = this.options.formatter(row.value, row);\n      if (this.options.showPercentage) {\n        let overall = 0;\n        this.data.forEach((dataRow) => {\n          overall += dataRow.value;\n        });\n        finalValue = Math.round(row.value / overall * 100) + '%';\n      }\n      return this.setLabels(row.label, finalValue);\n    };\n\n\n    Donut.prototype.setLabels = function(label1, label2) {\n      var inner, maxHeightBottom, maxHeightTop, maxWidth, text1bbox, text1scale, text2bbox, text2scale;\n      inner = (Math.min(this.el.width() / 2, this.el.height() / 2) - 10) * 2 / 3;\n      maxWidth = 1.8 * inner;\n      maxHeightTop = inner / 2;\n      maxHeightBottom = inner / 3;\n      this.text1.attr({\n        text: label1,\n        transform: ''\n      });\n      text1bbox = this.text1.getBBox();\n      text1scale = Math.min(maxWidth / text1bbox.width, maxHeightTop / text1bbox.height);\n      this.text1.attr({\n        transform: \"S\" + text1scale + \",\" + text1scale + \",\" + (text1bbox.x + text1bbox.width / 2) + \",\" + (text1bbox.y + text1bbox.height)\n      });\n      this.text2.attr({\n        text: label2,\n        transform: ''\n      });\n      text2bbox = this.text2.getBBox();\n      text2scale = Math.min(maxWidth / text2bbox.width, maxHeightBottom / text2bbox.height);\n      return this.text2.attr({\n        transform: \"S\" + text2scale + \",\" + text2scale + \",\" + (text2bbox.x + text2bbox.width / 2) + \",\" + text2bbox.y\n      });\n    };\n\n    Donut.prototype.drawEmptyDonutLabel = function(xPos, yPos, color, fontSize, fontWeight) {\n      var text;\n      text = this.raphael.text(xPos, yPos, '').attr('font-size', fontSize).attr('fill', color);\n      if (fontWeight != null) {\n        text.attr('font-weight', fontWeight);\n      }\n      return text;\n    };\n\n    Donut.prototype.resizeHandler = function() {\n      this.timeoutId = null;\n      this.raphael.setSize(this.el.width(), this.el.height());\n      return this.redraw();\n    };\n\n    return Donut;\n\n  })(Morris.EventEmitter);\n\n  Morris.DonutSegment = (function(_super) {\n    __extends(DonutSegment, _super);\n\n    function DonutSegment(cx, cy, inner, outer, p0, p1, color, backgroundColor, index, raphael) {\n      this.cx = cx;\n      this.cy = cy;\n      this.inner = inner;\n      this.outer = outer;\n      this.color = color;\n      this.backgroundColor = backgroundColor;\n      this.index = index;\n      this.raphael = raphael;\n      this.deselect = __bind(this.deselect, this);\n      this.select = __bind(this.select, this);\n      this.sin_p0 = Math.sin(p0);\n      this.cos_p0 = Math.cos(p0);\n      this.sin_p1 = Math.sin(p1);\n      this.cos_p1 = Math.cos(p1);\n      this.is_long = (p1 - p0) > Math.PI ? 1 : 0;\n      this.path = this.calcSegment(this.inner + 3, this.inner + this.outer - 5);\n      this.selectedPath = this.calcSegment(this.inner + 3, this.inner + this.outer);\n      this.hilight = this.calcArc(this.inner);\n    }\n\n    DonutSegment.prototype.calcArcPoints = function(r) {\n      return [this.cx + r * this.sin_p0, this.cy + r * this.cos_p0, this.cx + r * this.sin_p1, this.cy + r * this.cos_p1];\n    };\n\n    DonutSegment.prototype.calcSegment = function(r1, r2) {\n      var ix0, ix1, iy0, iy1, ox0, ox1, oy0, oy1, _ref, _ref1;\n      _ref = this.calcArcPoints(r1), ix0 = _ref[0], iy0 = _ref[1], ix1 = _ref[2], iy1 = _ref[3];\n      _ref1 = this.calcArcPoints(r2), ox0 = _ref1[0], oy0 = _ref1[1], ox1 = _ref1[2], oy1 = _ref1[3];\n      return (\"M\" + ix0 + \",\" + iy0) + (\"A\" + r1 + \",\" + r1 + \",0,\" + this.is_long + \",0,\" + ix1 + \",\" + iy1) + (\"L\" + ox1 + \",\" + oy1) + (\"A\" + r2 + \",\" + r2 + \",0,\" + this.is_long + \",1,\" + ox0 + \",\" + oy0) + \"Z\";\n    };\n\n    DonutSegment.prototype.calcArc = function(r) {\n      var ix0, ix1, iy0, iy1, _ref;\n      _ref = this.calcArcPoints(r), ix0 = _ref[0], iy0 = _ref[1], ix1 = _ref[2], iy1 = _ref[3];\n      return (\"M\" + ix0 + \",\" + iy0) + (\"A\" + r + \",\" + r + \",0,\" + this.is_long + \",0,\" + ix1 + \",\" + iy1);\n    };\n\n    DonutSegment.prototype.render = function() {\n      var _this = this;\n      this.arc = this.drawDonutArc(this.hilight, this.color);\n      return this.seg = this.drawDonutSegment(this.path, this.color, this.backgroundColor, function() {\n        return _this.fire('hover', _this.index);\n      }, function() {\n        return _this.fire('click', _this.index);\n      });\n    };\n\n    DonutSegment.prototype.drawDonutArc = function(path, color) {\n      return this.raphael.path(path).attr({\n        stroke: color,\n        'stroke-width': 2,\n        opacity: 0\n      });\n    };\n\n    DonutSegment.prototype.drawDonutSegment = function(path, fillColor, strokeColor, hoverFunction, clickFunction) {\n      return this.raphael.path(path).attr({\n        fill: fillColor,\n        stroke: strokeColor,\n        'stroke-width': 3\n      }).hover(hoverFunction).click(clickFunction);\n    };\n\n    DonutSegment.prototype.select = function() {\n      if (!this.selected) {\n        this.seg.animate({\n          path: this.selectedPath\n        }, 150, '<>');\n        this.arc.animate({\n          opacity: 1\n        }, 150, '<>');\n        return this.selected = true;\n      }\n    };\n\n    DonutSegment.prototype.deselect = function() {\n      if (this.selected) {\n        this.seg.animate({\n          path: this.path\n        }, 150, '<>');\n        this.arc.animate({\n          opacity: 0\n        }, 150, '<>');\n        return this.selected = false;\n      }\n    };\n\n    return DonutSegment;\n\n  })(Morris.EventEmitter);\n\n  return Morris;\n}\n\nmodule.exports = makeMorris;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}